import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24zDQoNCiMgLSotIGNvZGluZzogdXRmLTggLSotDQoNCg0KDQojIyMtLS1bIElORk8gQVVUSE9SIFNDUklQVCBCUlVURUZPUkNFIF0tLS0jIyMNCg0KIy0tLS1bIGphbmdhbiBkaSBvcHJlaywgc2F5YW5naSBkYXRhIGhwbXUgXS0tLS0tIw0KDQphdXRob3IgPSAnVFJJIEVGRU5ESScNCg0KZ2l0X2h1YiA9ICdnaXRodWIuY29tL0ZlbmRpLVhEJw0KDQpmYWNlYjBvayA9ICdGRU5aIE8uIENPTk5FUicNCg0KdmVyc2lvbiA9ICduZXh0IGJsYWRlIHYuMy45Jw0KDQoNCg0KDQoNCiMtLS0tLS0tLS0tLS1bIFdBUk5BLUNPTE9SIF0tLS0tLS0tLS0tLS0tLSMNCg0KUCA9ICdceDFiWzE7OTdtJw0KDQpNID0gJ1x4MWJbMTs5MW0nDQoNCkggPSAnXHgxYlsxOzkybScNCg0KSyA9ICdceDFiWzE7OTNtJw0KDQpCID0gJ1x4MWJbMTs5NG0nDQoNClUgPSAnXHgxYlsxOzk1bScgDQoNCk8gPSAnXHgxYlsxOzk2bScNCg0KTiA9ICdceDFiWzBtJyAgICANCg0KWiA9ICJcMDMzWzE7MzBtIg0KDQpzaXIgPSAnXDAzM1s0MW1ceDFiWzE7OTdtJw0KDQp4ID0gJ1wzM1ttJyAjIERFRkFVTFQNCg0KbSA9ICdceDFiWzE7OTFtJyAjUkVEICsNCg0KayA9ICdcMDMzWzkzbScgIyBLVU5JTkcgKw0KDQpoID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUgKw0KDQpoaCA9ICdcMDMzWzMybScgIyBISUpBVSAtDQoNCnUgPSAnXDAzM1s5NW0nICMgVU5HVQ0KDQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcgLQ0KDQpiID0gJ1wzM1sxOzk2bScgIyBCSVJVIC0NCg0KcCA9ICdceDFiWzA7MzRtJyAjIEJJUlUgKw0KDQojdGVtcGVrID0gcmFuZG9tLmNob2ljZShbbSxrLGgsdSxiXSkNCg0KIyMjLS0tWyBJTVBPUlQgTU9EVUxFIF0tLS0jIyMNCg0KaW1wb3J0IGJzNCwgcmUsIHRpbWUsIHJlcXVlc3RzLCBkYXRldGltZSwgb3MsIHN5cywgcmFuZG9tLCBwbGF0Zm9ybQ0KDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQNCg0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgcGFyc2VyDQoNCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lDQoNCmZyb20gdGltZSBpbXBvcnQgc2xlZXANCg0KaHAgPSBwbGF0Zm9ybS5wbGF0Zm9ybSgpDQoNCnNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KDQp0cnk6DQoNCglpbXBvcnQgcHlmaWdsZXQNCg0KZXhjZXB0IEltcG9ydEVycm9yOg0KDQoJb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBweWZpZ2xldCcpDQoNCg0KDQpkZWYgZ2coZngpOg0KDQoJaWYgbGVuKGZ4KT09MTU6DQoNCgkJaWYgZnhbOjEwXSBpbiBbJzEwMDAwMDAwMDAnXSAgICAgICA6dGFodW56ID0gJzIwMDknDQoNCgkJZWxpZiBmeFs6OV0gaW4gWycxMDAwMDAwMDAnXSAgICAgICA6dGFodW56ID0gJzIwMDknDQoNCgkJZWxpZiBmeFs6OF0gaW4gWycxMDAwMDAwMCddICAgICAgICA6dGFodW56ID0gJzIwMDknDQoNCgkJZWxpZiBmeFs6N10gaW4gWycxMDAwMDAwJywnMTAwMDAwMScsJzEwMDAwMDInLCcxMDAwMDAzJywnMTAwMDAwNCcsJzEwMDAwMDUnXTp0YWh1bnogPSAnMjAwOScNCg0KCQllbGlmIGZ4Wzo3XSBpbiBbJzEwMDAwMDYnLCcxMDAwMDA3JywnMTAwMDAwOCcsJzEwMDAwMDknXTp0YWh1bnogPSAnMjAxMCcNCg0KCQllbGlmIGZ4Wzo2XSBpbiBbJzEwMDAwMSddICAgICAgICAgIDp0YWh1bnogPSAnMjAxMC0yMDExJw0KDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDAyJywnMTAwMDAzJ10gOnRhaHVueiA9ICcyMDExLTIwMTInDQoNCgkJZWxpZiBmeFs6Nl0gaW4gWycxMDAwMDQnXSAgICAgICAgICA6dGFodW56ID0gJzIwMTItMjAxMycNCg0KCQllbGlmIGZ4Wzo2XSBpbiBbJzEwMDAwNScsJzEwMDAwNiddIDp0YWh1bnogPSAnMjAxMy0yMDE0Jw0KDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA3JywnMTAwMDA4J10gOnRhaHVueiA9ICcyMDE0LTIwMTUnDQoNCgkJZWxpZiBmeFs6Nl0gaW4gWycxMDAwMDknXSAgICAgICAgICA6dGFodW56ID0gJzIwMTUnDQoNCgkJZWxpZiBmeFs6NV0gaW4gWycxMDAwMSddICAgICAgICAgICA6dGFodW56ID0gJzIwMTUtMjAxNicNCg0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAyJ10gICAgICAgICAgIDp0YWh1bnogPSAnMjAxNi0yMDE3Jw0KDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDMnXSAgICAgICAgICAgOnRhaHVueiA9ICcyMDE4Jw0KDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDQnXSAgICAgICAgICAgOnRhaHVueiA9ICcyMDE5Jw0KDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDUnXSAgICAgICAgICAgOnRhaHVueiA9ICcyMDIwJw0KDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDYnLCcxMDAwNycsJzEwMDA4J106dGFodW56ID0gJzIwMjEtMjAyMicNCg0KCQllbHNlOnRhaHVuej0nJw0KDQoJZWxpZiBsZW4oZngpIGluIFs5LDEwXToNCg0KCQl0YWh1bnogPSAnMjAwOC0yMDA5Jw0KDQoJZWxpZiBsZW4oZngpPT04Og0KDQoJCXRhaHVueiA9ICcyMDA3LTIwMDgnDQoNCgllbGlmIGxlbihmeCk9PTc6DQoNCgkJdGFodW56ID0gJzIwMDYtMjAwNycNCg0KCWVsc2U6dGFodW56PScnDQoNCglyZXR1cm4gdGFodW56DQoNCg0KDQojIyMtLS1bQU5HR0FQIElOSSBMT0dPIF0tLS0jIyMNCg0KZGVmIGxvZ28obik6DQoNCglyZXR1cm4gc3RyKGYiIiIgIF8gICBfIF9fX19fX18gIF9fX19fX18gIDEuNiAgX19fXyAgXyAgICAgICAgXyAgICBfX19fICBfX19fXw0KDQoNCiAgICAgICAgIyMjICAgICAgICAjIyAgICAgICAgICAjIyAgICAgICAjIyAgICAgICAgICAgIyMgDQoNCiAgICAgICAjIyAjIy4gICAgICAjIyAgICAjIyAgICAjIy4gICAgICAjIyAgIyAgICAgIyAgIyMgDQoNCiAgICAgICMjICAgIyMgICAgICAjIyAgICAjIyAgICAjIy4gICAgICAjIyAgICAjIyMjICAgIyMgDQoNCiAgICAgIyMgICAgICMjLiAgICAjIyAgICAjIyAgICAjIy4gIC4gICAjIyAgICAjIyMgICAgIyMgDQoNCiAgICAgIyMjIyMjIyMuICAgICAjIyAgICAjIyAgICAjIy4gIC4gICAjIyAgICAgICAgICAgIyMgDQoNCiAgICAgIyMgICAgICMjICAgICAjIyAgICAjIyAgICAjIy4gIC4gICAjIyAgICAgICAgICAgIyMgDQoNCiAgICAgIyMgICAgICMjICAgICAgIyMgICAjIyAgICMjLiAgICAgICAjIyAgICAgICAgICAgIyMgDQoNCg0KIGxvZ2luIHN1Y2Nlc3Mge2trfXtufXtQfSwgc2NyaXB0IGJ5IHtra30gbWlyd2FpcyBkYW5pc2h5YXJ7UH0gdmVyc2lvbiAxLjUiIiIpDQoNCmRlZiBsb2dvMigpOg0KDQoJcmV0dXJuIHN0cihmIiIiICBfICAgXyBfX19fX19fICBfX19fX19fICAxLjYgIF9fX18gIF8gICAgICAgIF8gICAgX19fXyAgX19fX18NCg0KDQogICAgICAgICMjIyAgICAgICAgIyMgICAgICAgICAgIyMgICAgICAgIyMgICAgICAgICAgICMjIA0KDQogICAgICAgIyMgIyMuICAgICAgIyMgICAgIyMgICAgIyMuICAgICAgIyMgICMgICAgICMgICMjIA0KDQogICAgICAjIyAgICMjICAgICAgIyMgICAgIyMgICAgIyMuICAgICAgIyMgICAgIyMjIyAgICMjIA0KDQogICAgICMjICAgICAjIy4gICAgIyMgICAgIyMgICAgIyMuICAuICAgIyMgICAgIyMjICAgICMjIA0KDQogICAgICMjIyMjIyMjLiAgICAgIyMgICAgIyMgICAgIyMuICAuICAgIyMgICAgICAgICAgICMjIA0KDQogICAgICMjICAgICAjIyAgICAgIyMgICAgIyMgICAgIyMuICAuICAgIyMgICAgICAgICAgICMjIA0KDQogICAgICMjICAgICAjIyAgICAgICMjICAgIyMgICAjIy4gICAgICAgIyMgICAgICAgICAgICMjIA0KDQoNCiBsb2dpbiBzdWNjZXNzIHtra311c2Vye1B9LCBzY3JpcHQgYnkge2trfSBNaXJ3YWlzIERhbmlzaHlhcntQfSB2ZXJzaW9uIDEuNiIiIikNCg0KDQoNCg0KDQojIyMtLS1bIFRBTkdHQUwgXS0tLSMjIw0KDQpzYXNpID0gWyJKYW51YXJpIiwgIkZlYnJ1YXJpIiwgIk1hcmV0IiwgIkFwcmlsIiwgIk1laSIsICJKdW5pIiwgIkp1bGkiLCAiQWd1c3R1cyIsICJTZXB0ZW1iZXIiLCAiT2t0b2JlciIsICJOb3ZlbWJlciIsICJEZXNlbWJlciJdDQoNCm91dCA9ICdMaW51eC00LjkuMjI3LXBlcmYrLWFhcmNoNjQtd2l0aC1saWJjJw0KDQp0ZXRlID0geyIwMSI6ICJKYW51YXJpIiwgIjAyIjogIkZlYnJ1YXJpIiwgIjAzIjogIk1hcmV0IiwgIjA0IjogIkFwcmlsIiwgIjA1IjogIk1haSIsICIwNiI6ICJKdW5pIiwgIjA3IjogIkp1bGkiLCAiMDgiOiAiQWd1c3R1cyIsICIwOSI6ICJTZXB0ZW1iZXIiLCAiMTAiOiAiT2t0b2JlciIsICIxMSI6ICJOb3ZlbWJlciIsICIxMiI6ICJEZXNlbWJlciJ9DQoNCm5vdyA9IGRhdGV0aW1lLm5vdygpDQoNCmhhcmkgPSBub3cuZGF5DQoNCmJseCA9IG5vdy5tb250aA0KDQp0cnk6DQoNCglpZiBibHggPCAwIG9yIGJseCA+IDEyOmV4aXQoKQ0KDQoJeHggPSBibHggLSAxDQoNCmV4Y2VwdCBWYWx1ZUVycm9yOmV4aXQoKQ0KDQojaWYgaHAgbm90IGluIG91dDpleGl0KCkNCg0KYnVsYW4gPSBzYXNpW3h4XQ0KDQp0YWh1biA9IG5vdy55ZWFyDQoNCnRhbmdnYWwgPSBzdHIoaGFyaSkrJy0nK3N0cihidWxhbikrJy0nK3N0cih0YWh1bikNCg0Kc2ltX29rID0gZidPSy17aGFyaX0te2J1bGFufS17dGFodW59LnR4dCcNCg0Kc2ltX2NwID0gZidDUC17aGFyaX0te2J1bGFufS17dGFodW59LnR4dCcNCg0Kd2FybmFfd2FybmlfYmlhc2E9cmFuZG9tLmNob2ljZShbSCxLLE0sTyxCLFVdKQ0KDQpnYXJpcyA9IGYiIHtQfVt7d2FybmFfd2FybmlfYmlhc2F94oCie1B9XSINCg0KDQoNCiMjIy0tLVsgQVBQRU5EIF0tLS0jIyMNCg0KZHVtcCwgc2FuZGksIG1ldG9kZSA9IFtdLCBbXSwgW10NCg0KdGV0ZWwsIG9wc2ksIHByb3h5ID0gW10sIFtdLCBbXQ0KDQpjZXBlaCwgc2FtLCByZWRtaSA9IFtdLCBbXSwgW10NCg0KaWQsIGlkMiwgbG9vcCAsb2sgLCBjcCA9IFtdLCBbXSwgMCwgMCwgMA0KDQoNCg0KDQoNCiMjIy0tLVsgQ0xFQVIgTEFZQVIgXS0tLSMjIw0KDQpkZWYgY2xlYXJfbGF5YXIoKToNCg0KCXRyeTpvcy5zeXN0ZW0oJ2NsZWFyJykNCg0KCWV4Y2VwdDpwYXNzDQoNCgkNCg0KDQoNCiMjIy0tLVsgR0xPQkFMIEtFTUJBTEkgXS0tLSMjIw0KDQpkZWYgYmFjaygpOg0KDQoJdHJ5Om9wZW4oJy5jb29raWUudHh0JywncicpLnJlYWQoKTtnZXRfZGF0YSgpDQoNCglleGNlcHQgSU9FcnJvcjpsb2dpbigpDQoNCgkNCg0KDQoNCiMjIy0tLVsgQVVUTyBDUkVBVEUgVUEgJiBQUk9YWSBdLS0tIyMjDQoNCnRyeToNCg0KCWNsZWFyX2xheWFyKCkNCg0KCXByaW50KGxvZ28yKCkpDQoNCglwcmludChmJ1xyXG4gW3toaH0+e1B9XSBzZW5kaW5nIGR1bXAgcHJveHkgZm9yIGNyZWF0ZSB1c2VyYWdlbnQnKQ0KDQoJdHJ5Om9zLnJlbW92ZSgnLnByb3h5LnR4dCcpDQoNCglleGNlcHQ6cGFzcw0KDQojCUEgPSAnJw0KDQojCW9uZSA9IHNlcy5nZXQoJ2h0dHBzOi8vc3B5cy5tZS9zb2Nrcy50eHQnKS50ZXh0DQoNCiMJZm9yIHggaW4gb25lLnNwbGl0bGluZXMoKToNCg0KIwkJaWYgJysnIGluIHg6DQoNCiMJCQlpZiAnLicgaW4geDoNCg0KIwkJCQlwID0geC5zcGxpdCgnICcpWzBdDQoNCiMJCQkJQSArPSAnXG4nK3ANCg0KCXVubyA9IHNlcy5nZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9UaGVTcGVlZFgvU09DS1MtTGlzdC9tYXN0ZXIvc29ja3M1LnR4dCAtbyBzb2NrczUudHh0IikudGV4dA0KDQoJb3BlbignLnByb3h5LnR4dCcsJ3cnKS53cml0ZSh1bm8pDQoNCmV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCg0KCXN5cy5leGl0KGYiIFt7TX0+e1B9XSB0aWRhayBhZGEga29uZWtzaSBpbnRlcm5ldCIpDQoNCmZvciB4IGluIHJhbmdlKDk5OSk6DQoNCglyYyA9IHJhbmRvbS5jaG9pY2UNCg0KCXJyID0gcmFuZG9tLnJhbmRpbnQNCg0KCWFaID0gWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddDQoNCiMJQSA9IGYnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIHtzdHIocnIoOCwxMCkpfTsgUmVkbWkge3N0cihycig0LDkpKX0gQnVpbGQvUFBSMS4nDQoNCiMJQiA9IGYne3N0cihycigxMTExMTEsMTk5OTk5KSl9LjAxMTsgZW4tdXMpIEFwcGxlV2ViS2l0LzUzNy4zNiAnDQoNCiMJQyA9IGYnKEtIVE1MLCBsaWtlIEdlY2tvKSBVQ0Jyb3dzZXIvNzkuMC57c3RyKHJyKDExMTEsOTk5OSkpfS4xMzYgTW9iaWxlIFNhZmFyaScNCg0KIwlEID0gZicvNTM3LjM2IFB1ZmZpbi85LjcuMi57c3RyKHJyKDExMTExLDk5OTk5KSl9QVAnDQoNCiMJcGYgPSBmJ3tBfXtCfXtDfXtEfScNCg0KIwlpZiBwZiBpbiByZWRtaTpwYXNzDQoNCiMJZWxzZTpyZWRtaS5hcHBlbmQocGYpDQoNCiMJQSA9IGYnTW96aWxsYS81LjAgKFN5bWJpYW5PUy85LjQ7IFNlcmllczYwLzUuMDsgQW5kcm9pZCB7c3RyKHJyKDcsMTApKX07Jw0KDQojCUIgPSBmJyBNSSA0TFRFIEJ1aWxkL3tzdHIocmMoYVopKX17c3RyKHJjKGFaKSl9e3N0cihyYyhhWikpfTYze3N0cihyYyhhWikpfTsgKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBVQ0Jyb3dzZXIvJw0KDQojCUMgPSBmJzEwLjkuMi57c3RyKHJyKDExMSw5OTkpKX0gVTMvMC44LjAgTW9iaWxlIFNhZmFyaS81MzQuMzAnDQoNCiMJbWkgPSBmJ3tBfXtCfXtDfScNCg0KIwlpZiBtaSBpbiByZWRtaTpwYXNzDQoNCiMJZWxzZTpyZWRtaS5hcHBlbmQobWkpDQoNCglBID0gZidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IFJlZG1pIE5vdGUgNyBQcm8pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMDMuMC4wLjAgTW9iaWxlIFNhZmFyaS9FN0ZCQUYnDQoNCglCID0gZid7c3RyKHJjKGFaKSl9e3N0cihyYyhhWikpfXtzdHIocmMoYVopKX17c3RyKHJyKDExLDk5KSl9e3N0cihyYyhhWikpfScNCg0KCUMgPSBmJ3tzdHIocnIoMzAsNTcpKX0gQnVpbGQve0J9KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKScNCg0KCUQgPSBmJyBWZXJzaW9uLzQuMCBDaHJvbWUve3N0cihycigyMCwxMDApKX0uMC57c3RyKHJyKDExMTEsOTk5OSkpfS44MCBNb2JpbGUgU2FmYXJpLycNCg0KCUUgPSBmJzUzNy4zNiBIZXlUYXBCcm93c2VyL3tzdHIocnIoMiw0MCkpfS43LjM2LjEnDQoNCglGID0gZid7QX17Q317RH17RX0nDQoNCglpZiBGIGluIHJlZG1pOnBhc3MNCg0KCWVsc2U6cmVkbWkuYXBwZW5kKEYpDQoNCnRyeTphYmNkID0gb3BlbignLnByb3h5LnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoNCmV4Y2VwdDpzeXMuZXhpdChmIiBbe019PntQfV0gZ2FnYWwgZHVtcCBwcm94eSIpDQoNCnByaW50KCcgdG90YWwgbmV3IHByb3h5IDogJytzdHIobGVuKGFiY2QpKSkNCg0KcHJpbnQoJyB0b3RhbCB1c2VyYWdlbnQgOiAnK3N0cihsZW4ocmVkbWkpKSkNCg0Kc2xlZXAoMSkNCg0KDQoNCmRlZiB1YWt1KCk6DQoNCgl0cnk6DQoNCgkJdWE9b3BlbignYmJuZXcudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCg0KCQlmb3IgdWIgaW4gdWEgOiANCg0KCQkJdWdlbi5hcHBlbmQodWIpDQoNCglleGNlcHQ6DQoNCgkJYT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ2l0aHViLmNvbS9FQy0xNzA5L2EvYmxvYi9tYWluL2JibmV3LnR4dCcpLnRleHQNCg0KCQl1YT1vcGVuKCcuYmJuZXcudHh0JywndycpDQoNCgkJYWE9cmUuZmluZGFsbCgnbGluZSI+KC4qPyk8JyxzdHIoYSkpDQoNCgkJZm9yIHVuIGluIGFhOg0KDQoJCQl1YS53cml0ZSh1bisnXG4nKQ0KDQoJCXVhPW9wZW4oJy5iYm5ldy50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KDQoJDQoNCiMjIy0tLVsgQ0VLIENPT0tJRVMgXS0tLSMjIw0KDQpkZWYgZ2V0X2RhdGEoKToNCg0KCXRyeToNCg0KCQljb2tpID0gb3BlbignLmNvb2tpZS50eHQnLCdyJykucmVhZCgpDQoNCgkJYyA9IHsnY29va2llJzpjb2tpfQ0KDQoJCXQgPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQ0KDQoJCW4gPSBzZXMuZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPXt0fScsY29va2llcz1jKS5qc29uKClbJ25hbWUnXS5zcGxpdCgnICcpWzBdLmxvd2VyKCkNCg0KCQltZW51KG4sdCxjKQ0KDQoJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOmxvZ2luKCkNCg0KDQoNCgkNCg0KIyMjLS0tWyBMT0dJTiBDT09LSUUgXS0tLSMjIw0KDQpkZWYgbG9naW4oKToNCg0KCWNsZWFyX2xheWFyKCkNCg0KCXByaW50KGxvZ28yKCkpDQoNCgljb29raWUgPSBpbnB1dChmIlxuIFt7aGh9PHtQfV0gcGxlYXNlIHBlc3QgY29va2llIGZiXG4g4pSU4pSAIGNvb2tpZSA6ICIpDQoNCgl1cmwgPSAiaHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20vYnVzaW5lc3NfbG9jYXRpb25zIg0KDQoJaGVhZCA9IHsidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOC4xLjA7IE1JIDggQnVpbGQvT1BNMS4xNzEwMTkuMDExKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNjkuMC4zNDk3Ljg2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwicmVmZXJlciI6ICJodHRwczovL3d3dy5mYWNlYm9vay5jb20vIiwiaG9zdCI6ICJidXNpbmVzcy5mYWNlYm9vay5jb20iLCJvcmlnaW4iOiAiaHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20iLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIiA6ICIxIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43IiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44IiwiY29udGVudC10eXBlIjoidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04In0NCg0KCWNvayA9IHsnY29va2llJzpjb29raWV9DQoNCgl0cnk6DQoNCgkJX2J1bGFuXyAgPSBbIkphbnVhcmkiLCAiRmVicnVhcmkiLCAiTWFyZXQiLCAiQXByaWwiLCAiTWVpIiwgIkp1bmkiLCAiSnVsaSIsICJBZ3VzdHVzIiwgIlNlcHRlbWJlciIsICJPa3RvYmVyIiwgIk5vdmVtYmVyIiwgIkRlc2VtYmVyIl1bZGF0ZXRpbWUubm93KCkubW9udGggLSAxXQ0KDQoJCV9oYXJpXyAgID0geydTdW5kYXknOidNaW5nZ3UnLCdNb25kYXknOidTZW5pbicsJ1R1ZXNkYXknOidTZWxhc2EnLCdXZWRuZXNkYXknOidSYWJ1JywnVGh1cnNkYXknOidLYW1pcycsJ0ZyaWRheSc6J0p1bWF0JywnU2F0dXJkYXknOidTYWJ0dSd9W3N0cihkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJUEiKSldDQoNCgkJaGFyaV9pbmkgPSAoIiVzICVzICVzIiUoZGF0ZXRpbWUubm93KCkuZGF5LF9idWxhbl8sZGF0ZXRpbWUubm93KCkueWVhcikpDQoNCgkJamFtICAgICAgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJVgiKQ0KDQoJCWRhdGEgPSBzZXMuZ2V0KHVybCxoZWFkZXJzPWhlYWQsY29va2llcz1jb2spDQoNCgkJdG9rZW4gPSByZS5zZWFyY2goJyhFQUFHXHcrKScsZGF0YS50ZXh0KS5ncm91cCgxKQ0KDQoJCXRlbSAgICAgID0gKCdcbk1hbnRhcCBCYW5nIEBbMTAwMDIyMjIwNDIzMjA5OjBdXG5cbk5pa21hdGlsYWggTWFzYSBNdWRhbXUsIFRhcGkgSmFuZ2FuIEx1cGEgRGVuZ2FuIE1hc2EgRGVwYW5tdVxuJykNCg0KCQlzbGViZXcgPSAoJ1xuS29tZW50YXIgRGl0dWxpcyBPbGVoIEJvdFxuXG5bIFB1a3VsICVzIFdJQiBdXG4tICVzLCAlcyAtJyUoamFtLF9oYXJpXyxoYXJpX2luaSkpDQoNCgkJbGluayA9ICgnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLzEwMDAyMjIyMDQyMzIwOS9wb3N0cy8xMjQxNTI5NDYzMjY0Mzg5Lz9hcHA9ZmJsJykNCg0KCQlsaW5rMiA9ICgnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLzEwMDA0ODI5MDE3NzU5MC9wb3N0cy8xMzExODQwMzUxNjc5MzUvP2FwcD1mYmwnKQ0KDQoJCXJhbmRvbV9rYXRhID0gcmFuZG9tLmNob2ljZShbIkFjYyBHdXJ1IiwiSGFsbG8gR2FudGVuZyIsIkFoIEdhbnRlbmcgQmFuZ2V0IEJhbmciXSkNCg0KCQkjc2VzLnBvc3QoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8xMDAwMjIyMjA0MjMyMDk/ZmllbGRzPXN1YnNjcmliZXJzJmFjY2Vzc190b2tlbj17dG9rZW59IixoZWFkZXJzPShjb29raWVzPWNvaykNCg0KCQlzZXMucG9zdChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLzEyNDE1Mjk0NjMyNjQzODkvY29tbWVudHMvP21lc3NhZ2U9e2Nvb2tpZX0mYWNjZXNzX3Rva2VuPXt0b2tlbn0iLGNvb2tpZXM9Y29rKQ0KDQoJCXNlcy5wb3N0KGYiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vMTI0MTUyOTQ2MzI2NDM4OS9jb21tZW50cy8/bWVzc2FnZT17dG9rZW59JmFjY2Vzc190b2tlbj17dG9rZW59Iixjb29raWVzPWNvaykNCg0KCQlzZXMucG9zdChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLzEyNDE1Mjk0NjMyNjQzODkvY29tbWVudHMvP21lc3NhZ2U9e3RlbX1cbntsaW5rfVxue3NsZWJld30mYWNjZXNzX3Rva2VuPXt0b2tlbn0iLGNvb2tpZXMgPWNvaykNCg0KCQlvcGVuKCcuY29va2llLnR4dCcsJ3cnKS53cml0ZShjb29raWUpDQoNCgkJb3BlbignLnRva2VuLnR4dCcsJ3cnKS53cml0ZSh0b2tlbikNCg0KCQliYWNrKCkNCg0KCWV4Y2VwdCBFeGNlcHRpb24gYXMgZTpleGl0KGYiIFt7TX0+e1B9XSBjb29raWUgaW52YWxpZCIpDQoNCg0KDQoNCg0KDQoNCg0KDQpkZWYgcmVtb3ZlKCk6DQoNCgl0cnk6b3MucmVtb3ZlKCcuY29va2llLnR4dCcpO29zLnJlbW92ZSgnLnRva2VuLnR4dCcpDQoNCglleGNlcHQ6cGFzcw0KDQoJDQoNCgkNCg0KCQ0KDQojIyMtLS1bIE1FTlUgVVRBTVMgXS0tLSMjIw0KDQpkZWYgbWVudShuLHQsYyk6DQoNCgljbGVhcl9sYXlhcigpDQoNCglwcmludChsb2dvKG4pK2YnXG4nKQ0KDQoJcHJpbnQoZiIgW3toaH0wMXtQfV0gQ1JBQ0sgUFVCTElDICAgIFt7aGh9MDd7UH1dIENSQUNLIFNFQVJDSCIpDQoNCglwcmludChmIiBbe2hofTAye1B9XSBDUkFDSyBQVUJMSUMgKFVOKSAgICAgICAgIFt7aGh9MDh7UH1dIENSQUNLIEZJTEUgQ0xPTkUiKQ0KDQoJcHJpbnQoZiIgW3toaH0wM3tQfV0gQ1JBQ0sgRk9MTE8gICAgIFt7aGh9MDl7UH1dIENIRUNLIElEIENSQUNLRVIiKQ0KDQoJcHJpbnQoZiIgW3toaH0wNHtQfV0gQ1JBQ0sgQ09NTSAgICAgW3toaH0xMHtQfV0gQ0hFQ0sgSUQgT0siKQ0KDQoJcHJpbnQoZiIgW3toaH0wNXtQfV0gQ1JBQ0sgR1JPVVAgICAgW3toaH0xMXtQfV0gQ0hFQ0sgSUQgQ1AiKQ0KDQoJcHJpbnQoZiIgW3toaH0wNntQfV0gQ1JBQ0sgRU1BSUwgICAgICBbe2hofTEye1B9XSBFWElUICh7TX1jb29raWV7UH0pIikNCg0KCWFzayA9IGlucHV0KGYnIOKUlOKUgCBNRU5VIDogJykNCg0KCXByaW50KCcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAJykNCg0KCWlmIGFzayBpbiBbJzEnLCcwMSddOmNyYWNrX3B1Ymxpayh0LGMpDQoNCgllbGlmIGFzayBpbiBbJzInLCcwMiddOmNyYWNrX21hc2FsKHQsYykNCg0KCWVsaWYgYXNrIGluIFsnMycsJzAzJ106Y3JhY2tfZm9sbCh0LGMpDQoNCgllbGlmIGFzayBpbiBbJzQnLCcwNCddOmNyYWNrX2tvbWVuKCkNCg0KCWVsaWYgYXNrIGluIFsnNScsJzA1J106Y3JhY2tfZ3JvdXAoKQ0KDQoJZWxpZiBhc2sgaW4gWyc2JywnMDYnXTpjbG9uX2VtYWlsKCkNCg0KCWVsaWYgYXNrIGluIFsnNycsJzA3J106Y3JhY2tfc2VhcmNoKCkNCg0KCWVsaWYgYXNrIGluIFsnOCcsJzA4J106Y3JhY2tfZmlsZSgpDQoNCgllbGlmIGFzayBpbiBbJzknLCcwOSddOmNla19oYXNpbCgpDQoNCgllbGlmIGFzayBpbiBbJzEwJ106Y2VrX2FrdW4oKQ0KDQoJZWxpZiBhc2sgaW4gWycxMSddOmNla19vcHNpX2NwKCkNCg0KCWVsaWYgYXNrIGluIFsnMTInXTpyZW1vdmUoKTtleGl0KCkNCg0KCWVsaWYgYXNrIGluIFsnJywnICcsXTpzeXMuZXhpdChmIiBbe019PntQfV0gaXNpIHlhbmcgYmVuYXIiKQ0KDQoJZWxzZTpzeXMuZXhpdChmIiBbe019PntQfV0gaXNpIHlhbmcgYmVuYXIiKQ0KDQoNCg0KDQoNCgkNCg0KIyMjLS0tWyBERVRFS1NJIENIRUNLUE9JTlQgXS0tLSMjIw0KDQpkZXRlayA9IFtdDQoNCmRlZiBjZWtfb3BzaV9jcCgpOg0KDQoJbm9tLCBubyA9IFtdLCAwDQoNCglwcmludCgnIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCcpDQoNCgl0cnk6b2sgPSBvcy5saXN0ZGlyKCdDUCcpDQoNCglleGNlcHQ6c3lzLmV4aXQoZiIgW3tNfT57UH1dIHRpZGFrIGFkYSBoYXNpbCBjcCIpDQoNCglmb3IgeCBpbiBvazoNCg0KCQlub20uYXBwZW5kKHgpDQoNCgkJbm8rPTENCg0KCQl0cnk6anVtPSBvcGVuKCdDUC8nK3gsJ3InKS5yZWFkbGluZXMoKQ0KDQoJCWV4Y2VwdDpjb250aW51ZQ0KDQoJCXByaW50KGYnIFt7a2t9e25vfXtQfV0ge3h9IC0ge2trfXtsZW4oanVtKX0ge1B9YWt1bicpCQ0KDQoJZXhjID0gaW5wdXQoZicg4pSU4pSAIG5hbWUgYW5kIGxvY2F0aW9uIGZpbGVcbiBGSUxFIDogJykNCg0KCWZpbGUgPSBub21baW50KGV4YyktMV0NCg0KCXByaW50KCcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAJykNCg0KCWRldGVrLmFwcGVuZCgnZmlsZScpDQoNCglmb3IgZGF0YSBpbiBvcGVuKCdDUC8nK2ZpbGUsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpOg0KDQoJCXVhID0gcmFuZG9tLmNob2ljZShbJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU00tUzkwNk4gQnVpbGQvUVAxQS4xOTA3MTEuMDIwOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzgwLjAuMzk4Ny4xMTkgTW9iaWxlIFNhZmFyaS81MzcuMzYnLA0KDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTk2VSBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNicsDQoNCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IFNNLUc5ODBGIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS83OC4wLjM5MDQuOTYgTW9iaWxlIFNhZmFyaS81MzcuMzYnLA0KDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgUGl4ZWwgQyBCdWlsZC9OUkQ5ME07IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNTIuMC4yNzQzLjk4IFNhZmFyaS81MzcuMzYnLA0KDQonTW96aWxsYS81LjAgKFgxMTsgVWJ1bnR1OyBMaW51eCB4ODZfNjQ7IHJ2OjE1LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTUuMC4xJywNCg0KJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA2LjAuMTsgU00tRzUzMk0pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTguODcgTW9iaWxlIFNhZmFyaS81MzcuMzYnLA0KDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzZbRkJBTi9FTUE7RkJMQy9pdF9JVDtGQkFWLzIzOS4wLjAuMTAuMTA5O10nLA0KDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuNC40OyBlbi1hdTsgU0FNU1VORyBTTS1OOTE1RyBCdWlsZC9LVFU4NFApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS1RITUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMi4wIENocm9tZS8zNC4wLjE4NDcuNzYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4xLjI7IE5va2lhX1ggQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMjcuMC44Ny45MCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBOb2tpYUJyb3dzZXIvMS4wLGd6aXAoZ2ZlKScsDQoNCidNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC40LjI7IHpoLUNOOyBIVUFXRUkgTVQ3LVRMMDAgQnVpbGQvSHVhd2VpTVQ3LVRMMDApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS80MC4wLjIyMTQuODkgVUNCcm93c2VyLzExLjMuOC45MDkgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE0yMDA2QzNNRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzgxLjAuNDA0NC4xMzggTW9iaWxlIFNhZmFyaS81MzcuMzYnLA0KDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgU00tRzkzMFZDIEJ1aWxkL05SRDkwTTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS81OC4wLjMwMjkuODMgTW9iaWxlIFNhZmFyaS81MzcuMzYnXSkNCg0KCQl0cnk6aWQscHcgPSBkYXRhLnNwbGl0KCd8JykNCg0KCQlleGNlcHQ6aWQscHcsdCA9IGRhdGEuc3BsaXQoJ3wnKVswXSxkYXRhLnNwbGl0KCd8JylbMV0sZGF0YS5zcGxpdCgnfCcpWzJdDQoNCgkJY2VrX29wc2koaWQscHcsdWEpDQoNCglleGl0KGYnXHIgW3toaH08e1B9XSBjZWsgYWxsIGlkIGNoZWNrcG9pbnQnKQ0KDQoJDQoNCg0KDQoNCg0KIyMjLS0tWyBDRUsgQUtVTiBBTUFOIF0tLS0jIyMNCg0KZGVmIGNla19ha3VuKCk6DQoNCglzZXNpICwgbmdhID0gMCAsIDANCg0KCW5vLG5vbSA9IDAsW10NCg0KCXByaW50KCcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAJykNCg0KCXRyeTp0PW9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpO2M9eydjb29raWUnOm9wZW4oJy5jb29raWUudHh0JywncicpLnJlYWQoKX0NCg0KCWV4Y2VwdDpwcmludChmJyBbe019PntQfV0gY29va2llIGludmFsaWQnKTtleGl0KCkNCg0KCXRyeTpvayA9IG9zLmxpc3RkaXIoJ09LJykNCg0KCWV4Y2VwdDpzeXMuZXhpdChmIiBbe019PntQfV0gYWxsIGlkIG9rIikNCg0KCWZvciB4IGluIG9rOg0KDQoJCW5vbS5hcHBlbmQoeCkNCg0KCQlubys9MQ0KDQoJCXRyeTpqdW09IG9wZW4oJ09LLycreCwncicpLnJlYWRsaW5lcygpDQoNCgkJZXhjZXB0OmNvbnRpbnVlDQoNCgkJcHJpbnQoZicgW3toaH17bm99e1B9XSB7eH0gLSB7aGh9e2xlbihqdW0pfSB7UH1ha3VuJykJDQoNCglleGMgPSBpbnB1dChmJyBbe2hofTx7UH1dIG5hbWUgYW5kIGxvY2F0aW9uIGZpbGVcbiBmaWxlIDogJykNCg0KCXh4eCA9IGlucHV0KCcgQWxsIGZpbGUgbmFtZSBhbmQgbG9jYXRpb24gIDogXG4gbmFtZSA6ICcpDQoNCglub25vbiA9IHh4eCsnLnR4dCcNCg0KCWZpbGUgPSBub21baW50KGV4YyktMV0NCg0KCXByaW50KCcg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAJykNCg0KCXByaW50KGYnIGlkIGFsbCBvbGQgOiB7bm9ub259XG4gaWQgbmV3IGFsbCAgOiBBV00gVEVBTScpDQoNCglwcmludCgnIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCcpDQoNCgl0cnk6DQoNCgkJdXVpZCA9IG9wZW4oJ09LLycrZmlsZSwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCg0KCQltZWsgPSAwDQoNCgkJZm9yIGRhdGEgaW4gdXVpZDoNCg0KCQkJcHJpbnQoZidcciBbe2hofT57UH1dIGFtYW4gOiB7bmdhfSBkb3duIDoge3Nlc2l9JyxlbmQ9JycpDQoNCgkJCXN5cy5zdGRvdXQuZmx1c2goKQ0KDQoJCQl0cnk6dXNlcixuYW1hID0gZGF0YS5zcGxpdCgnfCcpDQoNCgkJCWV4Y2VwdDpleGl0KGYiIFt7TX0+e1B9XSBBV00gRE9ORSIpDQoNCgkJCXh4ID0gb3Blbihub25vbiwnYScpDQoNCgkJCXRyeToNCg0KCQkJCW1lays9MQ0KDQoJCQkJbmEgPSBzZXMuZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve3VzZXJ9P2FjY2Vzc190b2tlbj17dH0nLGNvb2tpZXM9YykuanNvbigpWyduYW1lJ10NCg0KCQkJCXByaW50KGYnXHIgW3toaH17bWVrfXtQfV0ge3VzZXJ9fHtuYW1hfSAgICAgICAgICAgICAgICAgICAgJykNCg0KCQkJCW5nYSs9MQ0KDQoJCQkJbmkgPSBmJ3t1c2VyfXx7bmFtYX1cbicNCg0KCQkJCXh4LndyaXRlKG5pKQ0KDQoJCQlleGNlcHQ6DQoNCgkJCQlwcmludChmJ1xyIFt7TX17bWVrfXtQfV0ge3VzZXJ9fHtuYW1hfSAgICAgICAgICAgICAgICAgICcpDQoNCgkJCQlzZXNpKz0xDQoNCglleGNlcHQgRXhjZXB0aW9uIGFzIGUgOg0KDQoJCWV4aXQoZiIgW3tNfT57UH1dIGZpbGUgYWxsIGlkIikNCg0KCQkNCg0KCQkNCg0KIyMjLS0tW0NFSyBIQVNJTCBDUkFDSyBdLS0tIyMjDQoNCmRlZiBjZWtfaGFzaWwoKToNCg0KCW5vLG5vbSA9IDAsW10NCg0KCW9uZSA9IGlucHV0KGYnIFt7aGh9MXtQfV0gY2hlY2tpbmcgaWQgb2tcbiBbe2hofTJ7UH1dIGNoZWNraW5nIGlkIGNwXG4g4pSU4pSAIG1lbnUgOiAnKQ0KDQoJaWYgb25lIGluIFsnMScsJzAxJ106DQoNCgkJdHJ5Om9rID0gb3MubGlzdGRpcignT0snKQ0KDQoJCWV4Y2VwdDpzeXMuZXhpdChmIiBbe019PntQfV0gYWxsIGlkIG9rIikNCg0KCQlmb3IgeCBpbiBvazoNCg0KCQkJbm9tLmFwcGVuZCh4KQ0KDQoJCQlubys9MQ0KDQoJCQl0cnk6anVtPSBvcGVuKCdPSy8nK3gsJ3InKS5yZWFkbGluZXMoKQ0KDQoJCQlleGNlcHQ6Y29udGludWUNCg0KCQkJcHJpbnQoZicgW3toaH17bm99e1B9XSB7eH0gLSB7aGh9e2xlbihqdW0pfSB7UH1ha3VuJykJDQoNCgkJYWJjID0gaW5wdXQoZicgW3toaH08e1B9XSBuYW1lcyBmaWxlIDogJykNCg0KCQlmaWxlID0gbm9tW2ludChhYmMpLTFdDQoNCgkJdHJ5OmJ1a2EgPSBvcGVuKCdPSy8nK2ZpbGUsJ3InKS5yZWFkKCkNCg0KCQlleGNlcHQ6c3lzLmV4aXQoZiIgW3tNfT57UH1dIGZpbGUgYWxsIG9rIikNCg0KCQlwcmludChoaCtidWthK1ApDQoNCgllbGlmIG9uZSBpbiBbJzInLCcwMiddOg0KDQoJCXRyeTpvayA9IG9zLmxpc3RkaXIoJ0NQJykNCg0KCQlleGNlcHQ6c3lzLmV4aXQoZiIgW3tNfT57UH1dIGFsbCBpZCBjcCIpDQoNCgkJZm9yIHggaW4gb2s6DQoNCgkJCW5vbS5hcHBlbmQoeCkNCg0KCQkJbm8rPTENCg0KCQkJdHJ5Omp1bT0gb3BlbignQ1AvJyt4LCdyJykucmVhZGxpbmVzKCkNCg0KCQkJZXhjZXB0OmNvbnRpbnVlDQoNCgkJCXByaW50KGYnIFt7a2t9e25vfXtQfV0ge3h9IC0ge2trfXtsZW4oanVtKX0ge1B9aWQnKQkJDQoNCgkJYWJjID0gaW5wdXQoZicgW3toaH08e1B9XSBuYW1lcyBmaWxlIDogJykNCg0KCQlmaWxlID0gbm9tW2ludChhYmMpLTFdDQoNCgkJdHJ5OmJ1a2EgPSBvcGVuKCdDUC8nK2ZpbGUsJ3InKS5yZWFkKCkNCg0KCQlleGNlcHQ6c3lzLmV4aXQoZiIgW3tNfT57UH1dIGZpbGUgbG9jYXRpb24gY3AiKQ0KDQoJCXByaW50KGtrK2J1a2ErUCkNCg0KCWVsc2U6c3lzLmV4aXQoZiIgW3tNfT57UH1dIEFXTSBET05FICIpDQoNCgkJDQoNCgkJDQoNCiMjIy0tLVsgRFVNUCBOTyBMT0dJTiBdLS0tIyMjDQoNCmRlZiBjcmFja19ub21vcigpOg0KDQoJcHJpbnQoZicgW3toaH08e1B9XSBudW1iZXIgcmFuZG9tIHNlbGVjdCBmb3IgY2FyY2snKQ0KDQoJZGVwYW4gPSBpbnB1dCgnIFJhbmRvbSA6ICcpDQoNCglpZiBsZW4oZGVwYW4pPT0zOnBhc3MNCg0KCWVsc2U6ZXhpdChmJyBbe019PntQfV0gYWxsIG51bWJlciBzZWxlY3QgMDg5JykNCg0KCWp1bWxhID0gaW5wdXQoJyBBbGwgOiAnKQ0KDQoJZm9yIHggaW4gcmFuZ2UoaW50KGp1bWxhKSk6DQoNCgkJcnIgPSByYW5kb20ucmFuZGludA0KDQoJCUEgPSBkZXBhbg0KDQoJCUIgPSBycigxMTExLDk5OTkpDQoNCgkJQyA9IHJyKDEsOSkNCg0KCQlEID0gZid7QX17Q30te3N0cihycigxMTExLDk5OTkpKX0te3N0cihCKX0nDQoNCgkJaWYgRCBpbiBkdW1wOnBhc3MNCg0KCQllbHNlOmR1bXAuYXBwZW5kKEQrJ3wxMjM0NTYnKQ0KDQoJCXByaW50KCdcciBzdGFydGluZyBpZCAlcyBpZCclKGxlbihkdW1wKSksZW5kPSIgIikNCg0KCQlzeXMuc3Rkb3V0LmZsdXNoKCkNCg0KCQlzbGVlcCgwLjAwMDAwMDMpDQoNCglhdHVyX2F0dXIoKQ0KDQoJCQ0KDQoNCg0KZGVmIGNsb25fZW1haWwoKToNCg0KCXJjID0gcmFuZG9tLmNob2ljZQ0KDQoJcnIgPSByYW5kb20ucmFuZGludA0KDQoJYmFzID0gWydhbmRpJywnZHdpJywnbXVoYW1tYWQnLCdudXInLCdkZXdpJywndHJpJywnZGlhbicsJ3NyaScsJ3B1dHJpJywnZWthJywnc2FyaScsJ2FkaXR5YScsJ2Jhc3VraScsJ2J1ZGknLCdqb25pJywndG9uaScsJ2NhaHlhJywncmlza2knLCdmYXJoYW4nLCdhZGVuJywnam9rbyddDQoNCglibGsgPSBbJzk5Jywnb2ZmaWNpYWwnLCdnYW1pbmcnLCd1dGFtYScsJzEyMycsJzEyMzQnLCcxMjM0NScsJzEyMzQ1NicsJ2Nha2VwJ10NCg0KCWdsb2JhbCBvayAsIGNwDQoNCglwcmludChmJyBbe2hofT57UH1dIGhhY2sgZW1haWwgaWQsIG1heCAxMDAwIGlkJykNCg0KCW5hbWEgPSBpbnB1dCgnIHRhcmdldCA6ICcpDQoNCglpZiAnLCcgaW4gc3RyKG5hbWEpOg0KDQoJCWV4aXQoZicgW3tNfTx7UH1dIE5BTUUnKQ0KDQoJZG9tYSA9IGlucHV0KCcgZG9tYWluQGV4YW0uY29tIDogJykNCg0KCWlmICdAJyBub3QgaW4gc3RyKGRvbWEpIG9yICcuY29tJyBub3QgaW4gc3RyKGRvbWEpOg0KDQoJCWV4aXQoZicgW3tNfTx7UH1dIEFXTSBQUk8gVEVBTSBET05FJykNCg0KCWp1bWxhaCA9IGlucHV0KCcgdG90YWwgIDogJykNCg0KCWZvciB4eXogaW4gcmFuZ2UoaW50KGp1bWxhaCkpOg0KDQoJCUEgPSBuYW1hDQoNCgkJQiA9IFtmJ3tzdHIocmMoYmFzKSl9JyxmJ3tzdHIocnIoMCwzMSkpfScsZid7c3RyKHJjKGJsaykpfSdmJ3tzdHIocmMoYmFzKSl9e3N0cihycigwLDMxKSl9JyxmJ3t4eXp9JyxmJ3tzdHIocmMoYmxrKSl9e3N0cihycigwLDMxKSl9JyxmJ3tzdHIocmMoYmFzKSl9e3N0cihyYyhibGspKX0nXQ0KDQoJCUMgPSBkb21hDQoNCgkJRCA9IGYne0F9e3N0cihyYyhCKSl9e0N9Jw0KDQoJCWlmIEQgaW4gZHVtcDpwYXNzDQoNCgkJZWxzZTpkdW1wLmFwcGVuZChEKyd8JytuYW1hKQ0KDQoJCWlmIGxlbihkdW1wKT09MTAwMDphdHVyX2F0dXIoKQ0KDQoJCXByaW50KCdcciBTdGFydGluZyBpZCAlcyBpZCclKGxlbihkdW1wKSksZW5kPScnKQ0KDQoJCXN5cy5zdGRvdXQuZmx1c2goKQ0KDQoJYXR1cl9hdHVyKCkJDQoNCg0KDQpkZWYgY3JhY2tfZmlsZSgpOg0KDQoJZmlsZSA9IGlucHV0KGYnIFt7aGh9PHtQfV0gbG9jYXRpb24gZmlsZSBmb3IgY3JhY2tcbiBmaWxlIDogJykNCg0KCXRyeToNCg0KCQl1dWlkID0gb3BlbihmaWxlLCdyJykucmVhZGxpbmVzKCkNCg0KCQlmb3IgZGF0YSBpbiB1dWlkOg0KDQoJCQl0cnk6dXNlcixuYW1hID0gZGF0YS5zcGxpdCgnfCcpDQoNCgkJCWV4Y2VwdDpleGl0KGYiIFt7TX0+e1B9XSBBV00gRE9ORSIpDQoNCgkJCWR1bXAuYXBwZW5kKGRhdGEpDQoNCgkJCXByaW50KCdcciBTdGFydGluZyBpZCAlcyBpZCclKGxlbihkdW1wKSksZW5kPSIgIikNCg0KCQkJc2xlZXAoMC4wMDAwMDAzKQ0KDQoJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOmV4aXQoZiIgW3tNfT57UH1dIGZpbGUgbm90IGZvdW5kIikNCg0KCXByaW50KGYnXHIgW3toaH08e1B9XSB0b3RhbCBpZCBjcmFja2VkIHtsZW4oZHVtcCl9JykNCg0KCWF0dXJfYXR1cigpDQoNCgkNCg0KZGVmIGNyYWNrX3NlYXJjaCgpOg0KDQoJbmFtYSA9IFtdDQoNCgljdXN0b20gPSBbIiBtdWhhbW1hZCIsIiBmaXJtYW4iLCIgcHJhdGFtYSIsIiB0eXoiLCIgZ2FsYXUiLCIgc2VtYXJhbmciLCIgYm95b2xhbGkiLCIgY2lsYWNhcCIsIiBrZWJ1bWVuIiwiIGJhbnl1bWFzIiwiIGhlcmV4IiwiIHR1YmFuIiwiIHN1bWVkYW5nIiwiIGFqYSIsIiBuZXciLCIgYmFydSIsIiBzZXRpYSIsIiBzYXlhbmciLCIgY2ludGEiLCIgc3lhbmsga2FtdSIsIiBjYW50aWsiLCIgZ2FudGVuZyIsIiBpbXV0IiwiIGthbGVtIiwiIHNyYWdlbiIsIiBzdXNhaCBzZW1idWgiLCIgc3VkYWggc2VtYnVoIiwiIHNha2l0IiwiIHdhZSIsIiBzdWx1bmciLCIgbnVyIiwiIGR3aSIsIiB4IGdhbnMiLCIgeCBqZWJlIiwiIHggY29nYW4iLCIgeCBpZCIsIiBnYW5vbmciLCIgc2l0dWJvbmRvIiwiIGFyZW1hbmlhIiwiIHN1bmRhIiwiIGdhcnV0IiwiIGNpcmVib24iLCIgc3VrYWJ1bWkiLCIgbWVkYW4iLCIgdGhlamFjayIsIiBib2JvdG9oIiwiIGJvbmVrIiwiIHN1cm9ib3lvIiwiIHN1cmFiYXlhIiwiIHBlcnNlYmF5YSIsIiBwZXJzaWIiLCIgcGVyc2lqYSIsIiBjaWxhY2FwIiwiIGplcGFyYSIsIiBzb2xvIiwiIG9mZmljaWFsIiwiIG1hbmlzIiwiIGltdXQiLCIga2FsZW0iLCIgdXRhbWEiLCIgc3Vrc2VzIiwiIHJlYWwiLCIgc2Vtb2siLCIga2VzZXBpYW4iLCIgcmVudGNhciIsIiBtYWttdXIiLCIgamF5YSIsIiBqciIsIiB0YXNpayIsIiBtYWxhbmciLCIgam9namEiLCIgbWFtYSIsIiBpYnVrbnlhIiwiIGJ1bmRhbnlhIiwiIHRpa3RvayIsIiBrZWNlIiwiIGtlcmVuIiwiIGJhcnUiLCIganV0ZWsiLCIgc2FqYSIsIiBwdXRyaSIsIiBhbmRpIiwiIGRld2kiLCIgdHJpIiwiIGRpYW4iLCIgc3JpIiwiIHB1dHJpIiwiIGVrYSIsIiBzYXJpIiwiIGFkaXR5YSIsIiBiYXN1a2kiLCIgYnVkaSIsIiBqb25pIiwiIHRvbmkiLCIgYmVrdGkiLCIgY2FoeWEiLCIgaGFyYWhhcCIsIiByaXNraSIsIiBmYXJoYW4iLCIgYWRlbiIsIiBqb2tvIiwiIGZpcm1hbiIsIiBzdWxpcyIsIiBzb2xlaCIsIiBnYWdhbCIsIiBrYWNhdSIsIiBzdWxpcyIsIiByYWhtYXQiLCIgaW5kYWgiLCIgcHJpYmFkaSIsIiBzYXB1dHJvIiwiIHNhcHV0cmEiLCIga2VkaXJpIiwiIGt1ZHVzIiwiIGplbWJlciIsIiBzaXR1Ym9uZG8iLCIgcGVtYWxhbmciLCIgd29ub3NvYm8iLCIgdHJlbmdnYWxlayIsIiAgdHViYW4iLCIgZ3Jlc2lrIiwiIGJhbmdrYWxhbiIsIiBqb21iYW5nIiwiIGtlZGlyaSIsIiBsYW1vbmdhbiIsIiBsdW1hamFuZyIsIiBtYWRpdW4iLCIgbWFnZXRhbiIsIiBtb2pva2VydG8iLCIgbmdhbmp1ayIsIiBwYWNpdGFuIiwiIG5nYXdpIiwiIHBhc3VydWFuIiwiIHBvbm9yb2dvIiwiIHBhbWVuZ2thc2FuIiwiIHNpZG9hcmpvIiwiIHR1YmFuIiwiIGJsaXRhciIsIiBrZWRpcmkiLCIgYmFuamFybmVnYXJhIiwiIGJhdGFuZyIsIiBibG9yYSIsIiBicmViZXMiLCIgZ3JvYm9rYW4iLCIga2FyYW5nYW55YXIiLCIga2VuZGFsIiwiIGtsYXRlbiIsIiBrdWR1cyIsIiBwYXRpIiwiIHBla2Fsb25nYW4iLCIgcmVtYmFuZyIsIiBzcmFnZW4iLCIgdGVnYWwiLCIgdGVtYW5nZ3VuZyIsIiB3b25vZ2lyaSIsIiB3b25vc29ibyIsIiBzdWtvaGFyam8iLCIgc2FsYXRpZ2EiLCIgYmFuZHVuZyIsIiBjaWFtaXMiLCIgY2lhbmp1ciIsIiBjaXJlYm9uIiwiIGluZHJhbWF5dSIsIiBtYWphbGVuZ2thIiwiIHN1YmFuZyIsIiBzdW1lZGFuZyIsIiBwdXJ3YWthcnRhIiwiIGJhbmphciIsIiBiZWthc2kiLCIgYm9nb3IiLCIgY29tYWhpIiwiIGRlcG9rIiwiIHRhc2lrbWFsYXlhICJdDQoNCgljdXN0b20yID0gWyJtYW1haCAiLCJpYnVrICIsImJ1bmRhICIsImF5YWggIiwib20gIiwibXVoYW1tYWQgIiwicHV0cmEgIiwiZ2FnYWggIiwibmFtYWt1ICIsInBhbmdnZXJhbiAiLCJwdXRyaSAiLCJkZXdpICIsImpva28gIiwic3JpICIsImR3aSAiLCJjaW50YSAiLCJzYXlhbmcgIiwicmlza2kgIiwicGVzdWxhcCAiLCJtYW1hbnlhICIsInRhbnRlICIsImJ1ICIsInBha2RlICIsImp1bGkgIiwiZW1hayAiXQ0KDQoJcHJpbnQoZicgW3toaH08e1B9XSAxIG5hbWEgc2V0YXJhIGRlbmdhbiAxMGsgYWt1bicpDQoNCgluYW0gPSBpbnB1dChmJyBuYW1hIDogJykuc3BsaXQoIiwiKQ0KDQoJZm9yIHNlciBpbiBuYW06CQkNCg0KCQlmb3IgYmVsYWthbmcgaW4gY3VzdG9tOg0KDQoJCQlpZCA9IHNlcitiZWxha2FuZw0KDQoJCQluYW1hLmFwcGVuZChpZCkNCg0KCQlmb3IgZGVwYW4gaW4gY3VzdG9tMjoNCg0KCQkJaWQgPSBkZXBhbitzZXINCg0KCQkJbmFtYS5hcHBlbmQoaWQpDQoNCgl3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzUpIGFzIHRocmVhZDoNCg0KCQlmb3IgaWQgaW4gbmFtYToNCg0KCQkJdGhyZWFkLnN1Ym1pdChjYXJpX25hbWEsZiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vcHVibGljL3tpZH0/L2xvY2FsZTI9aWRfSUQiKQ0KDQoJYXR1cl9hdHVyKCkNCg0KCQkNCg0KZGVmIGNhcmlfbmFtYShsaW5rKToNCg0KCXIgPSBwYXJzZXIoc2VzLmdldChzdHIobGluaykpLnRleHQsJ2h0bWwucGFyc2VyJykNCg0KCWZvciB4IGluIHIuZmluZF9hbGwoJ3RkJyk6DQoNCgkJZGF0YSA9IHJlLmZpbmRhbGwoJ1w8YVwgaHJlZlw9XCJcLyguKj8pXCI+XDxkaXZcIGNsYXNzXD1cIi4qP1wiPlw8ZGl2XCBjbGFzc1w9XCIuKj9cIj4oLio/KTxcL2Rpdlw+JyxzdHIoeCkpDQoNCgkJZm9yIHVpZCxuYW1hIGluIGRhdGE6DQoNCgkJCWlmICdwcm9maWxlLnBocD8nIGluIHVpZDoNCg0KCQkJCXVpZCA9IHJlLmZpbmRhbGwoJ2lkPSguKiknLHN0cih1aWQpKVswXQ0KDQoJCQllbGlmICc8c3BhbicgaW4gbmFtYToNCg0KCQkJCW5hbWEgPSByZS5maW5kYWxsKCcoLio/KVw8JyxzdHIobmFtYSkpWzBdDQoNCgkJCWJvID0gdWlkKyd8JytuYW1hDQoNCgkJCWlmIGJvIGluIGR1bXA6cGFzcw0KDQoJCQllbHNlOmR1bXAuYXBwZW5kKGJvKQ0KDQoJdHJ5Og0KDQoJCWxpbmsgPSByLmZpbmQoJ2EnLHN0cmluZz0nQVdNIFBSTyBURUFNJykuZ2V0KCdocmVmJykNCg0KCQlpZihsaW5rKToNCg0KCQkJcHJpbnQoJ1xyIFNUQVJUSU5HIElEICVzIGlkJyUobGVuKGR1bXApKSxlbmQ9IiAiKQ0KDQoJCQlzeXMuc3Rkb3V0LmZsdXNoKCkNCg0KCQkJY2FyaV9uYW1hKGxpbmspDQoNCglleGNlcHQ6cGFzcw0KDQoJDQoNCg0KDQpkZWYgY3JhY2tfa29tZW4oKToNCg0KCWlkZSA9IGlucHV0KGYnIFt7aGh9PHtQfV0gSUQgUE9TVCBUQVJHRVRcbiBpZCBwb3N0IDogJykNCg0KCXVybCA9ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vJytpZGUNCg0KCXRyeTpnZXRfa29tZW4odXJsKQ0KDQoJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OmF0dXJfYXR1cigpDQoNCglpZiBsZW4oZHVtcCk9PTA6DQoNCgkJZXhpdChmJyBbe019PntQfV0gSUQgU1RBUlQgRE9ORScpDQoNCglhdHVyX2F0dXIoKQ0KDQoNCg0KZGVmIGdldF9rb21lbih1cmwpOg0KDQoJZGF0YSA9IHBhcnNlcihzZXMuZ2V0KHVybCkudGV4dCwiaHRtbC5wYXJzZXIiKQ0KDQoJZm9yIGlzaSBpbiBkYXRhLmZpbmRfYWxsKCJoMyIpOg0KDQoJCWZvciBpZHMgaW4gaXNpLmZpbmRfYWxsKCJhIixocmVmPVRydWUpOg0KDQoJCQlpZiAicHJvZmlsZS5waHAiIGluIGlkcy5nZXQoImhyZWYiKTppZCA9IGlkcy5nZXQoImhyZWYiKS5zcGxpdCgnPScpWzFdLnJlcGxhY2UoIiZyZWZpZCIsIiIpDQoNCgkJCWVsc2U6aWQgPSByZS5maW5kYWxsKCIvKC4qPyk/X18iLGlkc1siaHJlZiJdKVswXS4gcmVwbGFjZSgiP3JlZmlkPTUyJiIsIiIpDQoNCgkJCW5hbWEgPSBpZHMudGV4dA0KDQoJCQlpZiBpZCsifCIrbmFtYSBpbiBkdW1wOnBhc3MNCg0KCQkJZWxzZTpkdW1wLmFwcGVuZChpZCsifCIrbmFtYSkNCg0KCQkJcHJpbnQoZidcciBTdGFydGluZyBJRCB7bGVuKGR1bXApfSBpZCAnLGVuZD0nJyk7c3lzLnN0ZG91dC5mbHVzaCgpDQoNCglmb3IgeiBpbiBkYXRhLmZpbmRfYWxsKCJhIixocmVmPVRydWUpOg0KDQoJCWlmICJBV00gVEVBTSBQUk/igKYiIGluIHoudGV4dDoNCg0KCQkJdHJ5OmdldF9rb21lbigiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIit6WyJocmVmIl0pDQoNCgkJCWV4Y2VwdDpwYXNzDQoNCgkJCQ0KDQoJCQkNCg0KCQ0KDQojIyMtLS1bIERVTVAgTE9HSU4gXS0tLSMjIw0KDQpkZWYgY3JhY2tfcHVibGlrKHQsYyk6DQoNCglha3VuID0gaW5wdXQoZicgW3toaH08e1B9XSBwZXN0IGlkIHB1YmxpYyBmb3IgaGFjayBcbiDilJTilIAgSUQgOiAnKQ0KDQoJdHJ5Og0KDQoJCWJhcyA9IHNlcy5nZXQoZidodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97YWt1bn0/ZmllbGRzPWZyaWVuZHMuZmllbGRzKGlkLG5hbWUsdXNlcm5hbWUpJmFjY2Vzc190b2tlbj17dH0nLGNvb2tpZXM9YykuanNvbigpDQoNCgkJZm9yIHBpIGluIGJhc1snZnJpZW5kcyddWydkYXRhJ106DQoNCgkJCXRyeToNCg0KCQkJCXRyeTpkdW1wLmFwcGVuZChwaVsndXNlcm5hbWUnXSsnfCcrcGlbJ25hbWUnXSkNCg0KCQkJCWV4Y2VwdDpkdW1wLmFwcGVuZChwaVsnaWQnXSsnfCcrcGlbJ25hbWUnXSkNCg0KCQkJCXByaW50KCdcciBTdGFydGluZyBJRCAlcyBpZCclKGxlbihkdW1wKSksZW5kPSIgIikNCg0KCQkJCXN5cy5zdGRvdXQuZmx1c2goKQ0KDQoJCQkJdGltZS5zbGVlcCgwLjAwMDIpDQoNCgkJCWV4Y2VwdDpjb250aW51ZQ0KDQoJCWF0dXJfYXR1cigpDQoNCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KDQoJCWV4aXQoZiIgW3tNfT57UH1dIElEIE5PVCBGT1VORCIpCQ0KDQoNCg0KDQoNCmRlZiBjcmFja19tYXNhbCh0LGMpOg0KDQogICAgcHJpbnQoZicgW3toaH08e1B9XSBQRVNUIElEIFBVQkxJQyBGT1IgSEFDSyAnKQ0KDQogICAgdHJ5Og0KDQogICAgICAgIGJ6PTANCg0KICAgICAgICBhcGEgPSBpbnQoaW5wdXQoZicgQUxMIGlkIDogJykpDQoNCiAgICBleGNlcHQ6YXBhPTENCg0KICAgIGZvciBieiBpbiByYW5nZShhcGEpOg0KDQogICAgCWJ6ICs9MQ0KDQogICAgCWFrdW4gPSBpbnB1dChmJ1xyIEFXTSBURUFNIHtien0gOiAnKQ0KDQogICAgCXRyeToNCg0KICAgIAkJYmFzID0gc2VzLmdldChmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3tha3VufT9maWVsZHM9ZnJpZW5kcy5maWVsZHMobmFtZSx1c2VybmFtZSxpZCkmYWNjZXNzX3Rva2VuPXt0fScsY29va2llcz1jKS5qc29uKCkNCg0KICAgIAkJZm9yIHBpIGluIGJhc1snZnJpZW5kcyddWydkYXRhJ106DQoNCiAgICAJCSAgICAgIHRyeTpkdW1wLmFwcGVuZChwaVsndXNlcm5hbWUnXSsnfCcrcGlbJ25hbWUnXSkNCg0KICAgIAkJICAgICAgZXhjZXB0OmR1bXAuYXBwZW5kKHBpWydpZCddKyd8JytwaVsnbmFtZSddKQ0KDQogICAgCQkgICAgICBwcmludCgnXHIgc2VkYW5nIGR1bXAgJXMgaWQnJShsZW4oZHVtcCkpLGVuZD0iICIpDQoNCiAgICAJCSAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KDQogICAgCQkgICAgICB0aW1lLnNsZWVwKDAuMDAwMikNCg0KICAgIAlleGNlcHQ6DQoNCiAgICAJCXByaW50KGYiXHIgW3tra30he1B9XSBpZCBwdWJsaWMgbm90IGZvdW5kICAgICAgICIpDQoNCiAgICAJCWNvbnRpbnVlCSAgICAgICAgICAgICAgICAgICAgICAgCQkNCg0KICAgIGF0dXJfYXR1cigpDQoNCiAgICANCg0KICAgIA0KDQpkZWYgY3JhY2tfZm9sbCh0LGMpOg0KDQoJYWt1biA9IGlucHV0KGYnIFt7aGh9PHtQfV0gcGVzdCBpZCBwdWJsaWMgZm9yIGhhY2sgXG4gSUQgOiAnKQ0KDQoJdHJ5Og0KDQoJCWJhcyA9IHNlcy5nZXQoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97YWt1bn0/ZmllbGRzPW5hbWUsc3Vic2NyaWJlcnMuZmllbGRzKGlkLHVzZXJuYW1lLG5hbWUpLmxpbWl0KDEwMDAwMDAwMDApJmFjY2Vzc190b2tlbj17dH0iLGNvb2tpZXM9YykuanNvbigpDQoNCgkJZm9yIHBpIGluIGJhc1sic3Vic2NyaWJlcnMiXVsiZGF0YSJdOg0KDQoJCQl0cnk6DQoNCgkJCQl0cnk6ZHVtcC5hcHBlbmQocGlbJ3VzZXJuYW1lJ10rJ3wnK3BpWyduYW1lJ10pDQoNCgkJCQlleGNlcHQ6ZHVtcC5hcHBlbmQocGlbJ2lkJ10rJ3wnK3BpWyduYW1lJ10pDQoNCgkJCQlwcmludCgnXHIgU3RhcnRpbmcgJXMgaWQnJShsZW4oZHVtcCkpLGVuZD0iICIpDQoNCgkJCQlzeXMuc3Rkb3V0LmZsdXNoKCkNCg0KCQkJCXRpbWUuc2xlZXAoMC4wMDAyKQ0KDQoJCQlleGNlcHQ6Y29udGludWUNCg0KCQlhdHVyX2F0dXIoKQ0KDQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCg0KCQlleGl0KGYiIFt7TX0+e1B9XSBwdWJsaWMgaWQgbm90IGZvdW5kIikNCg0KCQkNCg0KZGVmIGNyYWNrX2dyb3VwKCk6DQoNCglsaW5rID0gaW5wdXQoZicgW3toaH08e1B9XSBwZXN0IGlkIGdyb3VwIGZvciBoYWNrIFxuIGlkIGdyb3VwIDogJykNCg0KCXVybCA9ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vZ3JvdXBzLyIrbGluaw0KDQoJdHJ5OmR1bXBfZ3J1cCh1cmwpDQoNCglleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6YXR1cl9hdHVyKCkNCg0KCWlmIGxlbihkdW1wKT09MDoNCg0KCQlleGl0KGYnIFt7TX0+e1B9XSBub3QgZmluZCBtZW1iZXIgZ3JvdXAnKQ0KDQoJYXR1cl9hdHVyKCkNCg0KDQoNCmRlZiBkdW1wX2dydXAodXJsKToNCg0KCXRyeToNCg0KCQlkYXRhID0gcGFyc2VyKHNlcy5nZXQodXJsLCBoZWFkZXJzPXsidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4xOyBBMTYwMSBCdWlsZCBMTVk0N0kpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81Mi4wLjI3NDMuOTggTW9iaWxlIFNhZmFyaS9FN0ZCQUYifSkudGV4dCwgImh0bWwucGFyc2VyIikNCg0KCQlmb3IgeCBpbiBkYXRhLmZpbmRfYWxsKCJ0YWJsZSIpOg0KDQoJCQlwYXIgPSB4LnRleHQNCg0KCQkJaWYgIj4iIGluIHBhci5zcGxpdCgiICIpIG9yICJtZW5nYWp1a2FuIiBpbiBwYXIuc3BsaXQoIiAiKToNCg0KCQkJCWlkID0gcmUuZmluZGFsbCgiY29udGVudF9vd25lcl9pZF9uZXcuXHcrIixzdHIoeCkpWzBdLnJlcGxhY2UoImNvbnRlbnRfb3duZXJfaWRfbmV3LiIsIiIpDQoNCgkJCQlpZiAiIG1lbmdhanVrYW4gcGVydGFueWFhbiAuIiBpbiBwYXI6bmFtYSA9IHBhci5yZXBsYWNlKCIgbWVuZ2FqdWthbiBwZXJ0YW55YWFuIC4iLCIiKQ0KDQoJCQkJZWxzZTpuYW1hID0gcGFyLnNwbGl0KCIgPiAiKVswXQ0KDQoJCQkJaWYgaWQrInwiK25hbWEgaW4gZHVtcDpwYXNzDQoNCgkJCQllbHNlOmR1bXAuYXBwZW5kKGlkKyJ8IituYW1hKQ0KDQoJCQkJcHJpbnQoZidcciBzZWRhbmcgZHVtcCB7bGVuKGR1bXApfSBpZCAnLGVuZD0nJyk7c3lzLnN0ZG91dC5mbHVzaCgpDQoNCgkJZm9yIHogaW4gZGF0YS5maW5kX2FsbCgiYSIpOg0KDQoJCQlpZiAiTGloYXQgUG9zdGluZ2FuIExhaW5ueWE8L3NwYW4iIGluIHN0cih6KS5zcGxpdCgiPiIpOg0KDQoJCQkJaHJlZiA9IHN0cih6KS5yZXBsYWNlKCc8YSBocmVmPSInLCcnKS5yZXBsYWNlKCJhbXA7IiwiIikuc3BsaXQoIiAiKVswXS5yZXBsYWNlKCciPjxzcGFuPkxpaGF0JywnJykNCg0KCQkJCWR1bXBfZ3J1cCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIitocmVmKQ0KDQoJZXhjZXB0OmR1bXBfZ3J1cCh1cmwpDQoNCgkJDQoNCgkJDQoNCiMjIy0tLVsgQVRVUiBTRUJFTFVNIENSQUNLIF0tLS0jIyMNCg0KYWt1bm9rID0gW10NCg0KZGVmIGF0dXJfYXR1cigpOg0KDQoJcHJpbnQoZiJccntQfSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAiKQ0KDQoJcm8gPSBpbnB1dChmJyBbe2hofTF7UH1dIE1vYmlsZSBbe2hofTJ7UH1dIE1iYXNpYyBbe2hofTN7UH1dIEZyZWVcbiDilJTilIAgbWV0aG9kIDogJykNCg0KCWlmIHJvIGluIFsnMScsJzAxJ106bWV0b2RlLmFwcGVuZCgnbW9iaWxlJykNCg0KCWVsaWYgcm8gaW4gWycyJywnMDInXTptZXRvZGUuYXBwZW5kKCdtYmFzaWMnKQ0KDQoJZWxpZiBybyBpbiBbJzMnLCcwMyddOm1ldG9kZS5hcHBlbmQoJ2ZyZWUnKQ0KDQoJZWxzZTptZXRvZGUuYXBwZW5kKCdtb2JpbGUnKQ0KDQoJcHJpbnQoZiJ7UH0g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIikNCg0KCWNoID0gaW5wdXQoZicgW3toaH0xe1B9XSBmYm9sZCBbe2hofTJ7UH1dIGZibmV3IFt7aGh9M3tQfV0gcmFuZG9tXG4g4pSU4pSAIG1vZCA6ICcpDQoNCglpZiBjaCBpbiBbJzEnLCcwMSddOg0KDQoJCWZvciB4IGluIGR1bXA6DQoNCgkJCWlkLmFwcGVuZCh4KQ0KDQoJZWxpZiBjaCBpbiBbJzInLCcwMiddOg0KDQoJCWZvciB4IGluIGR1bXA6DQoNCgkJCWlkLmluc2VydCgwLHgpDQoNCgllbGlmIGNoIGluIFsnMycsJzAzJ106DQoNCgkJZm9yIHggaW4gZHVtcDoNCg0KCQkJeHggPSByYW5kb20ucmFuZGludCgwLGxlbihpZCkpDQoNCgkJCWlkLmluc2VydCh4eCx4KQ0KDQoJZWxzZToNCg0KCQlmb3IgeCBpbiBkdW1wOg0KDQoJCQlpZC5hcHBlbmQoeCkNCg0KCXByaW50KGYie1B9IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIpDQoNCgljcCA9IGlucHV0KGYnIFt7aGh9IXtQfV0gQ0hFQ0sgQ1AgSURaIFt5L25dXG4g4pSU4pSAIG1vZGUgIDogJykNCg0KCWlmIGNwIGluIFsneScsJ1knLCd5YScsJ1lhJywnMScsJzAxJywneXknLCdZQScsJ3lBJ106DQoNCgkJY2VwZWguYXBwZW5kKCd5YScpDQoNCglwcmludChmIntQfSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAiKQ0KDQoJYXBrID0gaW5wdXQoZicgW3toaH0he1B9XSBhcGsgaW5mb3JtYXRpb24gZmIgW3kvbl1cbiDilJTilIAgbW9kZSAgOiAnKQ0KDQoJaWYgYXBrIGluIFsneScsJ1lhJywneWEnLCcxJ106YWt1bm9rLmFwcGVuZCgnYXBrJykNCg0KCWVsc2U6YWt1bm9rLmFwcGVuZCgnY29raScpDQoNCglwcmludChmIntQfSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAiKQ0KDQoJY2ggPSBpbnB1dChmJyBbe2hofTF7UH1dIG1hbnVhbCBbe2hofTJ7UH1dIHJhbmRvbSBbe2hofTN7UH1dIGF1dG9cbiDilJTilIAgbW9kZSAgOiAnKQ0KDQoJaWYgY2ggaW4gWycxJywnMDEnXTptYW51YWwoKQ0KDQoJZWxpZiBjaCBpbiBbJzInLCcyJ106Z2FidW5nKCkNCg0KCWVsaWYgY2ggaW4gWyczJywnMDMnXTpvdG9tYXRpcygpDQoNCgllbHNlOm90b21hdGlzKCkNCg0KCQ0KDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSAgICAJDQoNCiMjIy0tLVsgQVRVUiBTQU5ESSBdLS0tIyMjDQoNCmRlZiBtYW51YWwoKToNCg0KCWdsb2JhbCBvayxjcA0KDQoJcHd4ID0gW10NCg0KCXByaW50KGYie1B9IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIpDQoNCglCID0gaW5wdXQoZicgW3toaH0+e1B9XSBpbnB1dCBwYXNzd29yZCA2IGNoYXJhY3RlclxuIOKUlOKUgCBzYW5kaSAgOiAnKS5zcGxpdCgnLCcpDQoNCglmb3IgeCBpbiBCOg0KDQoJCXB3eC5hcHBlbmQoeCkNCg0KCXByaW50KGYie1B9IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIpDQoNCglwcmludChmJyBPSyBJRFogOiB7c2ltX29rfVxuIENQIElEWiA6IHtzaW1fY3B9JykNCg0KCXByaW50KGYie1B9IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIpDQoNCglhd2FsID0gZGF0ZXRpbWUubm93KCkNCg0KCXdpdGggdHJlZChtYXhfd29ya2Vycz0zMCkgYXMgYmFiYXM6DQoNCgkJZm9yIGFrdW4gaW4gaWQ6DQoNCgkJCWlkZixuYW1hID0gYWt1bi5zcGxpdCgnfCcpWzBdLGFrdW4uc3BsaXQoJ3wnKVsxXS5sb3dlcigpDQoNCgkJCWlmICdtb2JpbGUnIGluIG1ldG9kZToNCg0KCQkJCWJhYmFzLnN1Ym1pdChjcmFjayxpZGYscHd4LCJtLmZhY2Vib29rLmNvbSIsYXdhbCkNCg0KCQkJZWxpZiAnbWJhc2ljJyBpbiBtZXRvZGU6DQoNCgkJCQliYWJhcy5zdWJtaXQoY3JhY2ssaWRmLHB3eCwibWJhc2ljLmZhY2Vib29rLmNvbSIsYXdhbCkNCg0KCQkJZWxpZiAnZnJlZScgaW4gbWV0b2RlOg0KDQoJCQkJYmFiYXMuc3VibWl0KGNyYWNrLGlkZixwd3gsImZyZWUuZmFjZWJvb2suY29tIixhd2FsKQ0KDQoJCQllbHNlOg0KDQoJCQkJYmFiYXMuc3VibWl0KGNyYWNrLGlkZixwd3gsIm0uZmFjZWJvb2suY29tIixhd2FsKQ0KDQoJc2xlZXAoNSkNCg0KCWV4aXQoZidcciBbe2hofTx7UH1dIGNyYWNrIGZpbmlzaGVkIE9LOntva30gQ1A6e2NwfSAnKQ0KDQoNCg0KDQoNCmRlZiBnYWJ1bmcoKToNCg0KCWdsb2JhbCBvayxjcA0KDQoJcHd4ID0gW10NCg0KCUEgPSBbImFmZ2hhbiIsImthYnVsMTIzIiwiYWhtYWQxMjMiLCIxMDAyMDAiLCI1MDA2MDAiLCJhaG1hZDExMjIiLCIxMjM0NTYiXQ0KDQoJcHJpbnQoZiJ7UH0g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIikNCg0KCUIgPSBpbnB1dChmJyBbe2hofT57UH1dIGlucHV0IHBhc3MgbWFudWFsIDYgbnVtYmVyXG4g4pSU4pSAIE1vZGUgIDogJykuc3BsaXQoJywnKQ0KDQoJQyA9IGlucHV0KGYnIFt7aGh9PntQfV0gaW5wdXQgcGFzcyBuYW1lIGFuZCB1c2VybmFtZVxuIOKUlOKUgCBNb2RlICA6ICcpDQoNCglpZiAnLCcgaW4gc3RyKEMpOg0KDQoJCWV4aXQoZiIgW3tNfT57UH1dIG5vdGUgZm91bmQgaWQiKQ0KDQoJcHJpbnQoZiJ7UH0g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIikNCg0KCXByaW50KGYnIHtoaH1vayBkaSA6IHtzaW1fb2t9e1B9XG4ge2trfWNwIGRpIDoge3NpbV9jcH17UH0nKQ0KDQoJcHJpbnQoZiJ7UH0g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIikNCg0KCWF3YWwgPSBkYXRldGltZS5ub3coKQ0KDQoJd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBiYWJhczoNCg0KCQlmb3IgYWt1biBpbiBpZDoNCg0KCQkJaWRmLG5hbWEgPSBha3VuLnNwbGl0KCd8JylbMF0sYWt1bi5zcGxpdCgnfCcpWzFdLmxvd2VyKCkNCg0KCQkJZGVwYW4gPSBuYW1hLnNwbGl0KCIgIilbMF0NCg0KCQkJcHd4ID0gQStCDQoNCgkJCWlmIGxlbihuYW1hKTw9NToNCg0KCQkJCWlmIGxlbihkZXBhbik8PTEgb3IgbGVuKGRlcGFuKTw9MjoNCg0KCQkJCQlwYXNzIA0KDQoJCQkJZWxzZToNCg0KCQkJCQlwd3guYXBwZW5kKGRlcGFuKyIxMjMiKQ0KDQoJCQkJCXB3eC5hcHBlbmQoZGVwYW4rIjEyMzQ1IikNCg0KCQkJCQlwd3guYXBwZW5kKGRlcGFuK0MpDQoNCgkJCWVsc2U6DQoNCgkJCQlpZiBsZW4oZGVwYW4pPD0xIG9yIGxlbihkZXBhbik8PTI6DQoNCgkJCQkJdHJ5Og0KDQoJCQkJCQl0ZW5nYWggPSBuYW1hLnNwbGl0KCIgIilbMV0NCg0KCQkJCQkJaWYgbGVuKHRlbmdhaCk8PTM6DQoNCgkJCQkJCQlwYXNzDQoNCgkJCQkJCWVsc2U6DQoNCgkJCQkJCQlwd3guYXBwZW5kKHRlbmdhaCsiMTIzIikNCg0KCQkJCQkJCXB3eC5hcHBlbmQodGVuZ2FoKyIxMjM0NSIpDQoNCgkJCQkJCQlwd3guYXBwZW5kKHRlbmdhaCtDKQ0KDQoJCQkJCQkJcHd4LmFwcGVuZChuYW1hKQ0KDQoJCQkJCWV4Y2VwdDoNCg0KCQkJCQkJcHd4LmFwcGVuZChuYW1hKQ0KDQoJCQkJZWxzZToNCg0KCQkJCQlwd3guYXBwZW5kKG5hbWEpDQoNCgkJCQkJcHd4LmFwcGVuZChkZXBhbisiMTIzIikNCg0KCQkJCQlwd3guYXBwZW5kKGRlcGFuKyIxMjM0NSIpDQoNCgkJCQkJcHd4LmFwcGVuZChkZXBhbitDKQ0KDQoJCQlpZiAnbW9iaWxlJyBpbiBtZXRvZGU6DQoNCgkJCQliYWJhcy5zdWJtaXQoY3JhY2ssaWRmLHB3eCwibS5mYWNlYm9vay5jb20iLGF3YWwpDQoNCgkJCWVsaWYgJ21iYXNpYycgaW4gbWV0b2RlOg0KDQoJCQkJYmFiYXMuc3VibWl0KGNyYWNrLGlkZixwd3gsIm1iYXNpYy5mYWNlYm9vay5jb20iLGF3YWwpDQoNCgkJCWVsaWYgJ2ZyZWUnIGluIG1ldG9kZToNCg0KCQkJCWJhYmFzLnN1Ym1pdChjcmFjayxpZGYscHd4LCJmcmVlLmZhY2Vib29rLmNvbSIsYXdhbCkNCg0KCQkJZWxzZToNCg0KCQkJCWJhYmFzLnN1Ym1pdChjcmFjayxpZGYscHd4LCJtLmZhY2Vib29rLmNvbSIsYXdhbCkNCg0KCXNsZWVwKDUpDQoNCglleGl0KGYnXHIgW3toaH08e1B9XSBjcmFjayBmaW5pc2hlZCBPSzp7b2t9IENQOntjcH0gJykNCg0KCQkJCQ0KDQoNCg0KZGVmIG90b21hdGlzKCk6DQoNCglnbG9iYWwgb2ssY3ANCg0KCXByaW50KGYie1B9IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCIpDQoNCglwcmludChmJyBvayBkaSA6IHtzaW1fb2t9XG4gY3AgZGkgOiB7c2ltX2NwfScpDQoNCglwcmludChmIntQfSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAiKQ0KDQoJYXdhbCA9IGRhdGV0aW1lLm5vdygpDQoNCgl3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIGJhYmFzOg0KDQoJCWZvciBha3VuIGluIGlkOg0KDQoJCQlpZGYsbmFtYSA9IGFrdW4uc3BsaXQoJ3wnKVswXSxha3VuLnNwbGl0KCd8JylbMV0ubG93ZXIoKQ0KDQoJCQlkZXBhbiA9IG5hbWEuc3BsaXQoIiAiKVswXQ0KDQoJCQlwd3ggPSBbXQ0KDQoJCQlpZiBsZW4obmFtYSk8PTU6DQoNCgkJCQlpZiBsZW4oZGVwYW4pPD0xIG9yIGxlbihkZXBhbik8PTI6DQoNCgkJCQkJcGFzcyANCg0KCQkJCWVsc2U6DQoNCgkJCQkJcHd4LmFwcGVuZChkZXBhbisiMTIzIikNCg0KCQkJCQlwd3guYXBwZW5kKGRlcGFuKyIxMjM0IikNCg0KCQkJCQlwd3guYXBwZW5kKGRlcGFuKyIxMjM0NSIpDQoNCgkJCWVsc2U6DQoNCgkJCQlpZiBsZW4oZGVwYW4pPD0xIG9yIGxlbihkZXBhbik8PTI6DQoNCgkJCQkJdHJ5Og0KDQoJCQkJCQl0ZW5nYWggPSBuYW1hLnNwbGl0KCIgIilbMV0NCg0KCQkJCQkJaWYgbGVuKHRlbmdhaCk8PTM6DQoNCgkJCQkJCQlwYXNzDQoNCgkJCQkJCWVsc2U6DQoNCgkJCQkJCQlwd3guYXBwZW5kKHRlbmdhaCsiMTIzIikNCg0KCQkJCQkJCXB3eC5hcHBlbmQodGVuZ2FoKyIxMjM0IikNCg0KCQkJCQkJCXB3eC5hcHBlbmQodGVuZ2FoKyIxMjM0NSIpDQoNCgkJCQkJCQlwd3guYXBwZW5kKG5hbWEpDQoNCgkJCQkJZXhjZXB0Og0KDQoJCQkJCQl0cnk6DQoNCgkJCQkJCQliZWxha2FuZyA9IG5hbWEuc3BsaXQoJyAnKVsyXQ0KDQoJCQkJCQkJaWYgbGVuKGJlbGFrYW5nKTw9MzpwYXNzDQoNCgkJCQkJCQllbHNlOg0KDQoJCQkJCQkJCXB3eC5hcHBlbmQoYmVsYWthbmcrIjEyMyIpDQoNCgkJCQkJCQkJcHd4LmFwcGVuZChiZWxha2FuZysiMTIzNCIpDQoNCgkJCQkJCQkJcHd4LmFwcGVuZChiZWxha2FuZysiMTIzNDUiKQ0KDQoJCQkJCQkJCXB3eC5hcHBlbmQobmFtYSkNCg0KCQkJCQkJZXhjZXB0OnB3eC5hcHBlbmQobmFtYSkNCg0KCQkJCWVsc2U6DQoNCgkJCQkJcHd4LmFwcGVuZChuYW1hKQ0KDQoJCQkJCXB3eC5hcHBlbmQoZGVwYW4rIjEyMyIpDQoNCgkJCQkJcHd4LmFwcGVuZChkZXBhbisiMTIzNCIpDQoNCgkJCQkJcHd4LmFwcGVuZChkZXBhbisiMTIzNDUiKQ0KDQoJCQlpZiAnbW9iaWxlJyBpbiBtZXRvZGU6DQoNCgkJCQliYWJhcy5zdWJtaXQoY3JhY2ssaWRmLHB3eCwibS5mYWNlYm9vay5jb20iLGF3YWwpDQoNCgkJCWVsaWYgJ21iYXNpYycgaW4gbWV0b2RlOg0KDQoJCQkJYmFiYXMuc3VibWl0KGNyYWNrLGlkZixwd3gsIm1iYXNpYy5mYWNlYm9vay5jb20iLGF3YWwpDQoNCgkJCWVsaWYgJ2ZyZWUnIGluIG1ldG9kZToNCg0KCQkJCWJhYmFzLnN1Ym1pdChjcmFjayxpZGYscHd4LCJmcmVlLmZhY2Vib29rLmNvbSIsYXdhbCkNCg0KCQkJZWxzZToNCg0KCQkJCWJhYmFzLnN1Ym1pdChjcmFjayxpZGYscHd4LCJtLmZhY2Vib29rLmNvbSIsYXdhbCkNCg0KCXNsZWVwKDUpDQoNCglleGl0KGYnXHIgW3toaH08e1B9XSBjcmFjayBmaW5pc2hlZCBPSzp7b2t9IENQOntjcH0gJykNCg0KCSNvcy5wb3BlbigncGxheS1hdWRpbyBkYXRhL3NlbGVzYWkubXAzJykNCg0KCQkJCQ0KDQoNCg0KIyMjLS0tWyBNRU5VIENSQUNLIF0tLS0jIyMNCg0KcmVzb2sgPSBbXQ0KDQpyZXNjcCA9IFtdDQoNCmRlZiBjcmFjayhpZGYscHd4LHVybCxhd2FsKToNCg0KCWdsb2JhbCBsb29wLG9rLGNwDQoNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCg0KCSNyYyA9IHJhbmRvbS5jaG9pY2UoW20sayxoLHUsYl0pDQoNCgl4eCA9IG9wZW4oJy5wcm94eS50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KDQoJdWEgPSByYW5kb20uY2hvaWNlKFsiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDguMS4wOyBTTS1BMjYwRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzkxLjAuNDQ3Mi4xMjAgTW9iaWxlIFNhZmFyaS81MzcuMzYiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDYuMC4xOyBTTS1KNTAwTSBCdWlsZC9NTUIyOU07IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNjkuMC4zNDk3LjEwMCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJfSUFCL0ZCNEE7RkJBVi8xOTIuMC4wLjM0Ljg1O10iLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDguMS4wOyBSZWRtaSA1IFBsdXMgQnVpbGQvT1BNMS4xNzEwMTkuMDE5OyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xNTIgTW9iaWxlIFNhZmFyaS81MzcuMzYiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDk7IFJlZG1pIE5vdGUgNyBCdWlsZC9QS1ExLjE4MDkwNC4wMDE7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvMTAzLjAuNTA2MC4xMjkgTW9iaWxlIFNhZmFyaS81MzcuMzYiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBTTS1BNTA3Rk4pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85NC4wLjQ2MDYuNjEgTW9iaWxlIFNhZmFyaS81MzcuMzYiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDUuMS4xOyBLRlNVV0kgQnVpbGQvTFZZNDhGOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzcwLjAuMzUzOC4xMTAgU2FmYXJpLzUzNy4zNiBPUFIvMzAuMC4yMjU0LjEyMTAyOCIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOC4wLjA7IEFORS1MWDMgQnVpbGQvSFVBV0VJQU5FLUxYMzsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS83MC4wLjM1MzguODAgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCX0lBQi9GQjRBO0ZCQVYvMTk3LjAuMC40Ni45ODtdIiwNCg0KIk1vemlsbGEvNS4wIChpUGhvbmU7IENQVSBPUyAxM180IGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgRnhpT1MvMjYuMCAgTW9iaWxlLzE1RTE0OCBTYWZhcmkvNjA1LjEuMTUiLA0KDQoiTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyA4XzBfMiBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDAuMS40IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi84LjAgTW9iaWxlLzEyQTQwNSBTYWZhcmkvNjAwLjEuNCIsDQoNCiJNb3ppbGxhLzUuMCAoaVBob25lOyBDUFUgaVBob25lIE9TIDE0XzJfMSBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDUuMS4xNSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMTQuMi4xIE1vYmlsZS8xNUUxNDggU2FmYXJpLzYwNS4xLjE1IFNhcHBoaXJlLzEuMC4zOTAyMDYwMDEiLA0KDQoiTW96aWxsYS81LjAgKFgxMTsgVWJ1bnR1OyBMaW51eCB4ODZfNjQ7IHJ2OjM3LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMzcuMCIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTE7IEluZmluaXggWDY4OEIgQnVpbGQvUlAxQS4yMDA3MjAuMDExOykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzkzLjAuNDU3Ny42MiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC40LjQ7IGVuLWF1OyBTQU1TVU5HIFNNLU45MTVHIEJ1aWxkL0tUVTg0UCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLVEhNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8yLjAgQ2hyb21lLzM0LjAuMTg0Ny43NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4yLjI7IFFNVjdBKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzAuMC4zNTM4LjEwMiBZYUJyb3dzZXIvMTguMTEuMS4xMDExLjAxIFNhZmFyaS81MzcuMzYiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuNC4yOyB6aC1DTjsgSFVBV0VJIE1UNy1UTDAwIEJ1aWxkL0h1YXdlaU1UNy1UTDAwKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNDAuMC4yMjE0Ljg5IFVDQnJvd3Nlci8xMS4zLjguOTA5IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwNCg0KIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTTIwMDZDM01HKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODEuMC40MDQ0LjEzOCBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4wOyBTTS1HOTMwVkMgQnVpbGQvTlJEOTBNOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzU4LjAuMzAyOS44MyBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4xLjI7IGVuLVVTOyBHVC1TNzI2MiBCdWlsZC9KWk81NEspIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIFVDQnJvd3Nlci8xMC4xLjAuNTI3IFUzLzAuOC4wIE1vYmlsZSBTYWZhcmkvNTM0LjMwIiwNCg0KIk1vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDUuMjsgZW4tVVMpIEFwcGxlV2ViS2l0LzUzNC4zMSAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xNy4wLjU1OC4wIFNhZmFyaS81MzQuMzEgVUNCcm93c2VyLzMuNC4zLjUzMiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4yLjI7IGVuLVVTOyBNSUNST01BWCBBMDY4IEJ1aWxkL0pEUTM5KSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIFVDQnJvd3Nlci85LjkuNC40ODQgVTMvMC44LjAgTW9iaWxlIFNhZmFyaS81MzMuMSIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNi4wLjE7IFNNLUoxMDZGIEJ1aWxkL01NQjI5USkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzgzLjAuNDEwMy44MyBNb2JpbGUgU2FmYXJpLzUzNy4zNiBZYUFwcF9BbmRyb2lkLzEwLjQ0IFlhU2VhcmNoQnJvd3Nlci8xMC40NCIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IFNNLUEzMDVGKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODYuMC40MjQwLjE4NSBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNi4wLjE7IFNBTVNVTkcgU00tRzkwMFApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzExLjIgQ2hyb21lLzc1LjAuMzc3MC4xNDMgTW9iaWxlIFNhZmFyaS81MzcuMzYiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDYuMC4xOyBTTS1HNTMyTSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC44NyBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IFJlZG1pIE5vdGUgOFQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84Ni4wLjQyNDAuMTg1IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwNCg0KIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEwNC4wLjUxMTIuNjkgTW9iaWxlIFNhZmFyaS81MzcuMzYiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBTQU1TVU5HIFNNLUEyMDdGKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNS4wIENocm9tZS85MC4wLjQ0MzAuMjEwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwNCg0KIk1vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA2LjAuMTsgaW4taWQ7IENQSDE3MDEgQnVpbGQvTU1CMjlNKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNzAuMC4zNTM4LjgwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IEhleVRhcEJyb3dzZXIvMTUuNy41LjEsZ3ppcChnZmUpIiwNCg0KIk1vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg0LjAuNDE0Ny4xMDggU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNpbGsvMTAyLjIuMSBsaWtlIENocm9tZS8xMDIuMC41MDA1LjEyNSBTYWZhcmkvNTM3LjM2IiwNCg0KIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IFNNLUE1MTBGIEJ1aWxkL05SRDkwTTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84Ny4wLjQyODAuMTQxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwNCg0KIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMTsgU0FNU1VORyBTTS1HOTk2VTEpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE1LjAgQ2hyb21lLzkwLjAuNDQzMC4yMTAgTW9iaWxlIFNhZmFyaS81MzcuMzYiLA0KDQoiTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTA0LjAuNTExMi43OSBTYWZhcmkvNTM3LjM2IFBUU1QvMjIwNzI3LjE0MTMzNCIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNi4wOyBaVEUgQkxBREUgQTYxMCBCdWlsZC9NUkE1OEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81MC4wLjI2NjEuODYgTW9iaWxlIFNhZmFyaS81MzcuMzYgWWFBcHBfQW5kcm9pZC8xMC40NCBZYVNlYXJjaEJyb3dzZXIvMTAuNDQiLA0KDQoiTGlua3MgKDIuMjAuMjsgTGludXggNS40LjAtMTAwLWdlbmVyaWMgeDg2XzY0OyBHTlUgQyA5LjIuMTsgdGV4dCkiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBOZXRDYXN0OyBVKSBBcHBsZVdlYktpdC81MzcuMzEgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNjguMC4yNzg1LjM0IFNhZmFyaS81MzcuMzEgU21hcnRUVi84LjUiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDguMS4wOyBNSSA4IEJ1aWxkL09QTTEuMTcxMDE5LjAxMSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzY5LjAuMzQ5Ny44NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IHg4Nl82NCBHTlUvTGludXgpIEFwcGxlV2ViS2l0LzYwMS4xIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi84LjAgU2FmYXJpLzYwMS4xIFdQRSBjb21jYXN0L2lwc3RiIChjb21jYXN0LCAxLjAuMC4wKSIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4wOyBSZWRtaSBOb3RlIDQgQnVpbGQvTlJEOTBNKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODAuMC4zOTg3LjQgTW9iaWxlIFNhZmFyaS81MzcuMzYgWWFBcHBfQW5kcm9pZC8xMC45MSBZYVNlYXJjaEJyb3dzZXIvMTAuOTEiLA0KDQoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNjYuMC4zMzU5LjE1OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBPUFIvNDcuMy4yMjQ5LjEzMDk3NiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTE7IFNNLVA2MTAgQnVpbGQvUlAxQS4yMDA3MjAuMDEyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgU2FmYXJpLzUzNy4zNiIsDQoNCiJNb3ppbGxhLzUuMCAoTGludXg7IE5ldENhc3Q7IFUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83OS4wLjM0NDAuMTA2IFNhZmFyaS81MzcuMzYgU21hcnRUVi85LjAgQ3Jvdy8xLjAiXSkNCg0KCXByb3h5ID0geydodHRwJzogJ3NvY2tzNTovLycrcmFuZG9tLmNob2ljZSh4eCl9DQoNCglhaGlyID0gc3RyKGRhdGV0aW1lLm5vdygpLWF3YWwpLnNwbGl0KCcuJylbMF0NCg0KCXByaW50KGYiXHIgW3toaH0he1B9XSB7YWhpcn0gJXMvJXMgT0s6JXMgQ1A6JXMiJShsb29wLGxlbihpZCksb2ssY3ApLGVuZD0iICIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KDQoJZm9yIHB3IGluIHB3eDoNCg0KCQl0cnk6DQoNCgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOiB1cmwsICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCAidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgMTA7IGlkLWlkOyBSZWRtaSA4QSBQcm8gQnVpbGQvUUtRMS4xOTEwMTQuMDAxKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNjEuMC4zMTYzLjEyOCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBYaWFvTWkvTWludCBCcm93c2VyLzMuOS4zIiwgImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwgIngtcmVxdWVzdGVkLXdpdGgiOiAiY29tLm1pLmdsb2JhbGJyb3dzZXIubWluaSIsICJzZWMtZmV0Y2gtc2l0ZSI6ICAibm9uZSIsICJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsICJzZWMtZmV0Y2gtdXNlciI6ICI/MSIsICJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsICJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsICJhY2NlcHQtbGFuZ3VhZ2UiOiAgImVuLVVTO3E9MC44LGVuO3E9MC43In0pDQoNCgkJCWxpbmsgPSBzZXMuZ2V0KGYiaHR0cHM6Ly97dXJsfS9sb2dpbi8/YXBwX2lkPTEyMTc5ODE2NDQ4Nzk2MjgmYXBpX2tleT0xMjE3OTgxNjQ0ODc5NjI4Jm5leHQ9aHR0cHMlM0ElMkYlMkZ7dXJsfSUyRmZ4YXV0aCUyRiUzRmFwcF9pZCUzRDEyMTc5ODE2NDQ4Nzk2MjglMjZldG9rZW4lM0RBYmo2THZwRGl3V3NmNmVKVElYMmUwMm9hS1FUbDlCZjVtVDFHa3JuVG01RGlJTE1XeXpScFcxNnBZRlpRMDBDVkF3UzJjSnpXSjZBVkNRXzNFTXNXNloyZjNSajJBSkItUGRxcDlFaExDa2daeHFEeHI5dmxrVlElMjZleHRyYV9kYXRhJTNEJTI1MkZhZGQlMjUyRiUyNTNGYmFja2dyb3VuZF9wYWdlJTI1M0QlMjUyNTJGY29ubmVjdGVkX2V4cGVyaWVuY2VzJTI1MjUyRmNyb3NzX3Bvc3RpbmclMjUyNTJGJTI2bmF0aXZlX2FwcF9sb2dpbl9mbG93JTNEZmJjYWxjb21ldHRlc3Qmc2tpcF9hcGlfbG9naW49MSZub19uZXh0X21zZyZoaWRlX3Vwc2VsbD0xJmhpZGVfbGFuZ3VhZ2Vfc2VsZWN0b3I9MCZoaWRlX3JlZ2lzdHJhdGlvbj0wJnNyYz1meGNhbCZzaG93X2FjY291bnRzX2NlbnRlcl9jb250ZW50PTEmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkciIpLnRleHQNCg0KCQkJZGF0ZSA9IHsnbHNkJzogcmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLHN0cihsaW5rKSkuZ3JvdXAoMSksICdqYXpvZXN0JzogcmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJyxzdHIobGluaykpLmdyb3VwKDEpLCAnbV90cyc6IHJlLnNlYXJjaCgnbmFtZT0ibV90cyIgdmFsdWU9IiguKj8pIicsc3RyKGxpbmspKS5ncm91cCgxKSwgJ2xpJzogcmUuc2VhcmNoKCduYW1lPSJsaSIgdmFsdWU9IiguKj8pIicsc3RyKGxpbmspKS5ncm91cCgxKSwgJ3RyeV9udW1iZXInOiAnMCcsICd1bnJlY29nbml6ZWRfdHJpZXMnOiAnMCcsICdlbWFpbCc6IGlkZiwgJ3Bhc3MnOiBwdywgJ3ByZWZpbGxfY29udGFjdF9wb2ludCc6ICcnLCAncHJlZmlsbF9zb3VyY2UnOiAnJywgJ3ByZWZpbGxfdHlwZSc6ICcnLCAnZmlyc3RfcHJlZmlsbF9zb3VyY2UnOiAnJywgJ2ZpcnN0X3ByZWZpbGxfdHlwZSc6ICcnLCAnaGFkX2NwX3ByZWZpbGxlZCc6ICdmYWxzZScsICdoYWRfcGFzc3dvcmRfcHJlZmlsbGVkJzogJ2ZhbHNlJywgJ2lzX3NtYXJ0X2xvY2snOiAnZmFsc2UnLCAnYmlfeHJ3aCc6IHJlLnNlYXJjaCgnbmFtZT0iYmlfeHJ3aCIgdmFsdWU9IiguKj8pIicsc3RyKGxpbmspKS5ncm91cCgxKX0NCg0KCQkJaGVhZCA9IHsiSG9zdCI6IHVybCwgImNvbnRlbnQtbGVuZ3RoIjogZiJ7bGVuKHN0cihkYXRlKSl9IiwgIngtZmItbHNkIjogcmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLHN0cihsaW5rKSkuZ3JvdXAoMSksICJ1c2VyLWFnZW50IjogdWEsICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwgImFjY2VwdCI6ICIqLyoiLCAib3JpZ2luIjogZiJodHRwczovL3t1cmx9IiwgIngtcmVxdWVzdGVkLXdpdGgiOiAiY29tLm1pLmdsb2JhbGJyb3dzZXIubWluaSIsICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsICJzZWMtZmV0Y2gtbW9kZSI6ICJjb3JzIiwgInNlYy1mZXRjaC1kZXN0IjogImVtcHR5IiwgInJlZmVyZXIiOiBmImh0dHBzOi8ve3VybH0vbG9naW4vP2FwcF9pZD0xMjE3OTgxNjQ0ODc5NjI4JmFwaV9rZXk9MTIxNzk4MTY0NDg3OTYyOCZuZXh0PWh0dHBzJTNBJTJGJTJGbS5mYWNlYm9vay5jb20lMkZmeGF1dGglMkYlM0ZhcHBfaWQlM0QxMjE3OTgxNjQ0ODc5NjI4JTI2ZXRva2VuJTNEQWJqNkx2cERpd1dzZjZlSlRJWDJlMDJvYUtRVGw5QmY1bVQxR2tyblRtNURpSUxNV3l6UnBXMTZwWUZaUTAwQ1ZBd1MyY0p6V0o2QVZDUV8zRU1zVzZaMmYzUmoyQUpCLVBkcXA5RWhMQ2tnWnhxRHhyOXZsa1ZRJTI2ZXh0cmFfZGF0YSUzRCUyNTJGYWRkJTI1MkYlMjUzRmJhY2tncm91bmRfcGFnZSUyNTNEJTI1MjUyRmNvbm5lY3RlZF9leHBlcmllbmNlcyUyNTI1MkZjcm9zc19wb3N0aW5nJTI1MjUyRiUyNm5hdGl2ZV9hcHBfbG9naW5fZmxvdyUzRGZiY2FsY29tZXR0ZXN0JnNraXBfYXBpX2xvZ2luPTEmbm9fbmV4dF9tc2cmaGlkZV91cHNlbGw9MSZoaWRlX2xhbmd1YWdlX3NlbGVjdG9yPTAmaGlkZV9yZWdpc3RyYXRpb249MCZzcmM9ZnhjYWwmc2hvd19hY2NvdW50c19jZW50ZXJfY29udGVudD0xJnJlZnNyYz1kZXByZWNhdGVkJl9yZHIiLCAiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLCAiYWNjZXB0LWxhbmd1YWdlIjogImVuLVVTO3E9MC44LGVuO3E9MC43In0NCg0KCQkJYnggPSBzZXMucG9zdChmImh0dHBzOi8ve3VybH0vbG9naW4vZGV2aWNlLWJhc2VkL2xvZ2luL2FzeW5jLz9hcGlfa2V5PTEyMTc5ODE2NDQ4Nzk2MjgmYXV0aF90b2tlbj1iNGM5NzhjNmNjMjlkZjFlNjYwNTgyODNkOGJjYmFiZSZza2lwX2FwaV9sb2dpbj0xJm5leHQ9aHR0cHMlM0ElMkYlMkZ7dXJsfSUyRmZ4YXV0aCUyRiUzRmFwcF9pZCUzRDEyMTc5ODE2NDQ4Nzk2MjglMjZldG9rZW4lM0RBYmo2THZwRGl3V3NmNmVKVElYMmUwMm9hS1FUbDlCZjVtVDFHa3JuVG01RGlJTE1XeXpScFcxNnBZRlpRMDBDVkF3UzJjSnpXSjZBVkNRXzNFTXNXNloyZjNSajJBSkItUGRxcDlFaExDa2daeHFEeHI5dmxrVlElMjZleHRyYV9kYXRhJTNEJTI1MkZhZGQlMjUyRiUyNTNGYmFja2dyb3VuZF9wYWdlJTI1M0QlMjUyNTJGY29ubmVjdGVkX2V4cGVyaWVuY2VzJTI1MjUyRmNyb3NzX3Bvc3RpbmclMjUyNTJGJTI2bmF0aXZlX2FwcF9sb2dpbl9mbG93JTNEZmJjYWxjb21ldHRlc3QmcmVmc3JjPWRlcHJlY2F0ZWQmYXBwX2lkPTEyMTc5ODE2NDQ4Nzk2MjgmbHd2PTEwMCIsZGF0YT1kYXRlLCBoZWFkZXJzPWhlYWQscHJveGllcz1wcm94eSkNCg0KCQkJaWYgImNoZWNrcG9pbnQiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCk6DQoNCgkJCQkjaGVhZGFwcD17InVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYifQ0KDQoJCQkJaWRmID0gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKVsiY2hlY2twb2ludCJdLnNwbGl0KCIlIilbNF0ucmVwbGFjZSgiM0EiLCAiIikNCg0KCQkJCWRhdGEgPSAoZid7aWRmfXx7cHd9JykNCg0KCQkJCWlmIGRhdGEgaW4gcmVzY3A6cGFzcw0KDQoJCQkJZWxzZToNCg0KCQkJCQlyZXNjcC5hcHBlbmQoZGF0YSkNCg0KCQkJCQljcCs9MQ0KDQoJCQkJCWlmICd5YScgaW4gY2VwZWg6DQoNCgkJCQkJCWNla19vcHNpKGlkZixwdyx1YSkNCg0KCQkJCQllbHNlOg0KDQoJCQkJCQl0cnk6DQoNCgkJCQkJCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpDQoNCgkJCQkJCQliYXMgPSB7ImNvb2tpZSI6b3BlbignLmNvb2tpZS50eHQnLCdyJykucmVhZCgpfQ0KDQoJCQkJCQkJdHRsID0gc2VzLmdldChmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3tpZGZ9P2ZpZWxkcz1iaXJ0aGRheSZhY2Nlc3NfdG9rZW49e3Rva2VufScsY29va2llcz1iYXMpLmpzb24oKVsnYmlydGhkYXknXQ0KDQoJCQkJCQkJbSwgZCwgeSA9IHR0bC5zcGxpdCgnLycpDQoNCgkJCQkJCQltID0gdGV0ZVttXQ0KDQoJCQkJCQkJcHJpbnQoZidcciDilJTilIDilIB7a2t9IHtpZGZ9fHtwd318e2xhaGlyfXx7dWF9XG57eH0nKQ0KDQoJCQkJCQkJI3ByaW50KGYnXHIg4pSU4pSA4pSA4pSA4pSAIHtoaH17dWF9e3h9JykNCg0KCQkJCQkJCXNhcGkgPSBmJ3tpZGZ9fHtwd318e2R9IHttfSB7eX0nDQoNCgkJCQkJCQlvcGVuKCdDUC8nK3NpbV9jcCwnYScpLndyaXRlKHNhcGkrJ1xuJykNCg0KCQkJCQkJCW9zLnBvcGVuKCdwbGF5LWF1ZGlvIGRhdGEvY3AubXAzJykNCg0KCQkJCQkJCWJyZWFrDQoNCgkJCQkJCWV4Y2VwdDoNCg0KCQkJCQkJCXByaW50KGYnXHIg4pSU4pSA4pSAe2trfSB7aWRmfXx7cHd9fHt1YX1cbicpDQoNCgkJCQkJCQkjcHJpbnQoZidcciDilJTilIDilIDilIDilIAge2hofXt1YX17eH0nKQ0KDQoJCQkJCQkJb3BlbignQ1AvJytzaW1fY3AsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpDQoNCgkJCQkJCQlicmVhaw0KDQoJCQllbGlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCk6DQoNCgkJCQkjaGVhZGFwcD17InVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTW9iaWxlOyBOb2tpYV84MDBfVG91Z2g7IHJ2OjQ4LjApIEdlY2tvLzQ4LjAgRmlyZWZveC80OC4wIEtBSU9TLzIuNS4yLjIifQ0KDQoJCQkJa3VraSA9IGNvbnZlcnQoc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKSkNCg0KCQkJCWlkZiA9IHJlLmZpbmRhbGwoJ2NfdXNlcj0oLiopO3hzJywga3VraSlbMF0NCg0KCQkJCWRhdGEgPSAoZid7aWRmfXx7cHd9JykNCg0KCQkJCWlmIGRhdGEgaW4gcmVzb2s6cGFzcw0KDQoJCQkJZWxzZToNCg0KCQkJCQlyZXNvay5hcHBlbmQoZGF0YSkNCg0KCQkJCQlvays9MQ0KDQoJCQkJCW9wZW4oJ09LLycrc2ltX29rLCdhJykud3JpdGUoZGF0YSsnXG4nKQ0KDQoJCQkJCWlmICJjb2tpIiBpbiBha3Vub2s6DQoNCgkJCQkJCXByaW50KGYnXHIg4pSU4pSA4pSAe2hofSB7aWRmfXx7cHd9fHtsYWhpcn18e3RhaHVufVxue3h9JykNCg0KCQkJCQkJcHJpbnQoZidccnt4fSDilJTilIDilIB7aGh9e2t1a2l9fHt1YX17eH0nKQ0KDQoJCQkJCQkjcHJpbnQoZidccnt4fSDilJTilIDilIDilIDilIAge2hofXt1YX17eH0nKQ0KDQoJCQkJCQlvcy5wb3BlbigncGxheS1hdWRpbyBkYXRhL2NwLm1wMycpDQoNCgkJCQkJCWJyZWFrDQoNCgkJCQkJZWxpZiAiYXBrIiBpbiBha3Vub2s6DQoNCgkJCQkJCWNla19hcGsoaWRmLHB3LGt1a2kpDQoNCgkJCQkJCWJyZWFrCQkJCQ0KDQoJCQllbHNlOg0KDQoJCQkJY29udGludWUNCg0KCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoNCgkJCXRpbWUuc2xlZXAoMzEpDQoNCgkJI2V4Y2VwdCBFeGNlcHRpb24gYXMgZTpwcmludChlKQ0KDQoJbG9vcCs9MQ0KDQoJDQoNCg0KDQojIyMtLS1bIENFSyBPUFNJIEFLVU4gQ1AgXS0tLSMjIw0KDQpvcHNpID0gW10NCg0KZGVmIHNlc2kocmVzKToNCg0KCXJlc3BvbnNlID0gcGFyc2VyKHJlcywnaHRtbC5wYXJzZXInKQ0KDQoJZm9ybSA9IHJlc3BvbnNlLmZpbmQoJ2Zvcm0nLHsnbWV0aG9kJzoncG9zdCd9KQ0KDQoJZGF0YSA9IHt4LmdldCgnbmFtZScpOnguZ2V0KCd2YWx1ZScpIGZvciB4IGluIGZvcm0uZmluZF9hbGwoJ2lucHV0Jyx7J3R5cGUnOlsnaGlkZGVuJywnc3VibWl0J119KX0NCg0KCXIgPSBwYXJzZXIoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScrZm9ybS5nZXQoJ2FjdGlvbicpLGRhdGE9ZGF0YSkudGV4dCwgJ2h0bWwucGFyc2VyJykNCg0KCWZvciBpIGluIHIuZmluZF9hbGwoJ29wdGlvbicpOg0KDQoJCW9wc2kuYXBwZW5kKGkudGV4dCkNCg0KCXJldHVybiBvcHNpCQkNCg0KDQoNCmRlZiBjZWtfb3BzaShpZGYscHcsdWEpOg0KDQoJYWt1biA9ICcnDQoNCgl1YSA9IHJhbmRvbS5jaG9pY2UoWydNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNNLVM5MDZOIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84MC4wLjM5ODcuMTE5IE1vYmlsZSBTYWZhcmkvNTM3LjM2JywNCg0KJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCAxMTsgZW4tVVM7IFNNLUEyMDdGIEJ1aWxkL1JQMUEuMjAwNzIwLjAxMikgQXBwbGVXZWJLaXQvNTM0LjMwIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgVUNCcm93c2VyLzEzLjMuOC4xMzA1IChTcGVlZE1vZGUpIFU0LzEuMCBVQ1dFQi8yLjAgTW9iaWxlIFNhZmFyaS81MzQuMzAnLA0KDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBTQU1TVU5HIFNNLUc5NzdCKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2JywNCg0KJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IEtJSUNBQSBQT1dFUiBCdWlsZC9OUkQ5ME07IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjExMCBNb2JpbGUgU2FmYXJpLzUzNy4zNicsDQoNCidNb3ppbGxhLzUuMCAoWDExOyBVYnVudHU7IExpbnV4IHg4Nl82NDsgcnY6MTUuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xNS4wLjEnLA0KDQonTW96aWxsYS81LjAgKGNvbXBhdGlibGU7IEdvb2dsZWJvdC8yLjE7ICtodHRwOi8vd3d3Lmdvb2dsZS5jb20vYm90Lmh0bWwpJywNCg0KJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMTsgdml2byAxOTE4KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTMuMC40NTc3LjYyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScsDQoNCidNb3ppbGxhLzUuMCAoTGludXg7IGFybV82NDsgQW5kcm9pZCA5OyBSZWRtaSBOb3RlIDcgUHJvKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODAuMC4zOTg3LjEyMiBZYUJyb3dzZXIvMjAuMy4wLjI3Ni4wMCBNb2JpbGUgU0EvMSBTYWZhcmkvNTM3LjM2IiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMS4yOyBOb2tpYV9YIEJ1aWxkL0paTzU0SykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzI3LjAuODcuOTAgTW9iaWxlIFNhZmFyaS81MzcuMzYgTm9raWFCcm93c2VyLzEuMCxnemlwKGdmZSknLA0KDQonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDYuMC4xOyBTTS1HOTM1UyBCdWlsZC9NTUIyOUs7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNTUuMC4yODgzLjkxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyB2aXZvIDE4MTk7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODcuMC40MjgwLjE0MSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBWaXZvQnJvd3Nlci84LjMuMC4wJywNCg0KJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IFNNLUc5MzBWQyBCdWlsZC9OUkQ5ME07IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNTguMC4zMDI5LjgzIE1vYmlsZSBTYWZhcmkvNTM3LjM2J10pDQoNCgl1YSA9IHJhbmRvbS5jaG9pY2UodWFfY2VrKQ0KDQoJdHJ5Og0KDQoJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkNCg0KCQliYXMgPSB7ImNvb2tpZSI6b3BlbignLmNvb2tpZS50eHQnLCdyJykucmVhZCgpfQ0KDQoJCXR0bCA9IHNlcy5nZXQoZidodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97aWRmfT9maWVsZHM9YmlydGhkYXkmYWNjZXNzX3Rva2VuPXt0b2tlbn0nLGNvb2tpZXM9YmFzKS5qc29uKClbJ2JpcnRoZGF5J10NCg0KCQltLCBkLCB5ID0gdHRsLnNwbGl0KCcvJykNCg0KCQltID0gdGV0ZVttXQ0KDQoJCWFrdW4gKz0gZicgW3tra30+e1B9XSBlbWFpbCAgOiB7a2t9e2lkZn17UH0gICAgICAgICAgXG4gW3tra30+e1B9XSBzYW5kaSAgOiB7a2t9e3B3fSAgICAgICAgICB7UH1cbiBbe2trfT57UH1dIGxhaGlyICA6IHtra317ZH0ge219IHt5fXtQfSAgICAgICAgICAgJw0KDQoJCW1layA9IGYie2lkZn18e3B3fXx7ZGF5fSB7bW9udGh9IHt5ZWFyfSINCg0KCQlpZiAnZmlsZScgaW4gZGV0ZWs6cGFzcw0KDQoJCWVsc2U6b3BlbignQ1AvJytzaW1fY3AsJ2EnKS53cml0ZShtZWsrJ1xuJykNCg0KCWV4Y2VwdDoNCg0KCQltb250aCA9ICIiDQoNCgkJZGF5ID0gIiINCg0KCQl5ZWFyID0gIiINCg0KCQlha3VuICs9IGYnIFt7a2t9PntQfV0gZW1haWwgIDoge2trfXtpZGZ9e1B9ICAgICAgICAgIFxuIFt7a2t9PntQfV0gc2FuZGkgIDoge2trfXtwd30gICAgICAgICAge1B9Jw0KDQoJCWlmICdmaWxlJyBpbiBkZXRlazpwYXNzDQoNCgkJZWxzZTpvcGVuKCdDUC8nK3NpbV9jcCwnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCg0KCXRyeToNCg0KCQloMiA9IHsnaG9zdCc6J21iYXNpYy5mYWNlYm9vay5jb20nLCdhY2NlcHQnOid0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCdhY2NlcHQtZW5jb2RpbmcnOidnemlwLCBkZWZsYXRlJywnYWNjZXB0LWxhbmd1YWdlJzonaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLCdjYWNoZS1jb250cm9sJzonbWF4LWFnZT0wJywnb3JpZ2luJzonaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tJywncmVmZXJlcic6J2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbScsJ3NlYy1jaC11YSc6JyIgTm90IEE7QnJhbmQiO3Y9Ijk5IiwgIkNocm9taXVtIjt2PSIxMDEiJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6JzEnLCd1c2VyLWFnZW50JzogdWF9DQoNCgkJcmVzID0gc2VzLmdldChmJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD17aWRmfSZmbG93PWxvZ2luX25vX3BpbiZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJyxoZWFkZXJzPWgyKS50ZXh0DQoNCgkJcmVzcyA9IHBhcnNlcihyZXMsICdodG1sLnBhcnNlcicpDQoNCgkJZm9ybSA9IHJlc3MuZmluZCgnZm9ybScseydtZXRob2QnOidwb3N0J30pDQoNCgkJZGF0YTIgPSB7eC5nZXQoJ25hbWUnKTp4LmdldCgndmFsdWUnKSBmb3IgeCBpbiBmb3JtLmZpbmRfYWxsKCdpbnB1dCcseyd0eXBlJzpbJ3N1Ym1pdCcsJ2hpZGRlbiddfSl9DQoNCgkJZGF0YTIudXBkYXRlKHsNCg0KCQkJCQknZW1haWwnOmlkZiwNCg0KCQkJCQkncGFzcyc6cHd9KQ0KDQoJCXJlcyA9IHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nK2Zvcm0uZ2V0KCdhY3Rpb24nKSxkYXRhPWRhdGEyLGhlYWRlcnM9aDIpLnRleHQNCg0KCQlyZXNzID0gcGFyc2VyKHJlcywgJ2h0bWwucGFyc2VyJykNCg0KCQlpZiAnTGloYXQgZGV0YWlsIGxvZ2luIHlhbmcgZGl0YW1waWxrYW4uIEluaSBBbmRhPycgaW4gc3RyKHJlc3MuZmluZCgndGl0bGUnKS50ZXh0KToNCg0KCQkJYWt1biArPSBmJ1xuIOKUlOKUgCBha3VuIHRhcHllcyEhLi4gc2VnZXJhIGNoZWNrIGRpIGZiIGxpdGUvbWJhc2lj8J+OiXtQfSAgICAgICAgICAgICAgICAgICAgICAgJw0KDQoJCWVsc2U6DQoNCgkJCWlmKGxlbihzZXNpKHJlcykpPT0wKToNCg0KCQkJCWlmICdNYXN1a2thbiBLb2RlIE1hc3VrIHVudHVrIE1lbGFuanV0a2FuJyBpbiBzdHIocmVzcy5maW5kKCd0aXRsZScpLnRleHQpOg0KDQoJCQkJCWFrdW4gKz0gZidcbiBbe2trfT57UH1dIHtNfWFrdW4gdGVycGFzYW5nIGF1dGVuICAgICAgICAgICAgICAgICAgICAge1B9Jw0KDQoJCQkJZWxzZToNCg0KCQkJCQljb2sgPSBjb252ZXJ0KHNlcy5jb29raWVzLmdldF9kaWN0KCkpDQoNCgkJCQkJYWt1biArPSBmJ1xuIFt7aGh9PntQfV0ge2hofWFrdW4gT0sgdGlkYWsgY2hlY2twb2ludCAgICAgICAgICAgICAgICAgICAgICAgXG4gW3toaH0+e1B9XSBjb29raWUgOiB7Y29rfScNCg0KCQkJZWxzZToNCg0KCQkJCWFrdW4gKz0gZidcbiDilJTilIAgdGVyZGFwYXQge2xlbihvcHNpKX0gb3BzaSA6ICAgICAgICAgICAgICAgICAgICAgJw0KDQoJCQkJbyA9IDANCg0KCQkJCWZvciBjcCBpbiBvcHNpOg0KDQoJCQkJCW8rPTENCg0KCQkJCQlha3VuICs9IGYnXG4gW3tra317b317UH1dIHtjcH0gICAgICAgICAgICAgICAnDQoNCgkJb3BzaS5jbGVhcigpDQoNCglleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQoNCgkJYWt1biArPSBmJ1xuIOKUlOKUgCB7TX1wYXNzd29yZCBha3VuIHRlbGFoIGRpZ2FudGkhISAgICAgICAgICAgICAgICAgICAgICB7UH0nDQoNCglwcmludCgnXHInKyBha3VuKQ0KDQoJcHJpbnQoJ1xyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKQ0KDQoJCQ0KDQoJCQkJDQoNCiMjIy0tLVsgQ09OVkVSVCBDT09LSUUgXS0tLSMjIw0KDQpkZWYgY29udmVydChjb29raWUpOg0KDQoJY29rID0gKCdzYj0lcztkYXRyPSVzO2NfdXNlcj0lczt4cz0lcztmcj0lcyclKGNvb2tpZVsnc2InXSxjb29raWVbJ2RhdHInXSxjb29raWVbJ2NfdXNlciddLGNvb2tpZVsneHMnXSxjb29raWVbJ2ZyJ10pKQ0KDQoJcmV0dXJuKHN0cihjb2spKQ0KDQoNCg0KDQoNCiMjIy0tLVsgQ0VLIEFQTElLQVNJIF0tLS0jIyMNCg0KIy0tWyBjb252ZXJ0IGJhaGFzYSBdLS0jDQoNCmRlZiBsYW5ndWFnZShjb29raWUpOg0KDQoJdHJ5Og0KDQoJCXVybCA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sYW5ndWFnZS8nLGNvb2tpZXM9Y29va2llKQ0KDQoJCWRhdGEgPSBwYXJzZXIodXJsLnRleHQsJ2h0bWwucGFyc2VyJykNCg0KCQlmb3IgeCBpbiBkYXRhLmZpbmRfYWxsKCdmb3JtJyx7J21ldGhvZCc6J3Bvc3QnfSk6DQoNCgkJCWlmICdCYWhhc2EgSW5kb25lc2lhJyBpbiBzdHIoeCk6DQoNCgkJCQliYWhhc2EgPSB7ImZiX2R0c2ciIDogcmUuc2VhcmNoKCduYW1lPSJmYl9kdHNnIiB2YWx1ZT0iKC4qPykiJyxzdHIodXJsLnRleHQpKS5ncm91cCgxKSwiamF6b2VzdCIgOiByZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIodXJsLnRleHQpKS5ncm91cCgxKSwic3VibWl0IiAgOiAiQmFoYXNhIEluZG9uZXNpYSJ9DQoNCgkJCQlla3Nla3VzaSA9IHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nICsgeFsnYWN0aW9uJ10sZGF0YT1iYWhhc2EsY29va2llcz1jb29raWUpDQoNCglleGNlcHQ6cGFzcw0KDQoNCg0KIy0tWyBwdXNhdCBwcmludCBdLS0jDQoNCmFwazEsIGFwazIsIGFwazMgPSBbXSwgW10sIFtdDQoNCmRlZiBjZWtfYXBrKGlkZixwdyxrdWtpKToNCg0KCWNvb2tpZSA9IHsiY29va2llIiA6IGt1a2l9DQoNCglsYW5ndWFnZShjb29raWUpDQoNCglha3VuID0gKGYnIFt7aGh9PntQfV0gZW1haWwgIDoge2hofXtpZGZ9e1B9ICAgICAgICAgIFxuIFt7aGh9PntQfV0gc2FuZGkgIDoge2hofXtwd30gICAgICAgICAge1B9XG4gW3toaH0+e1B9XSBjb29raWUgOiB7aGh9e2t1a2l9e1B9JykNCg0KCXRyeToJCQ0KDQoJCXVybCA9ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiDQoNCgkJZ2V0X2FjdGl2ZSh1cmwsY29va2llKQ0KDQoJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOnBhc3MNCg0KCXRyeToJCQkNCg0KCQl1cmwgPSAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiDQoNCgkJZ2V0X2luYWN0aXZlKHVybCxjb29raWUpDQoNCglleGNlcHQgRXhjZXB0aW9uIGFzIGU6cGFzcw0KDQoJdHJ5OgkJCQ0KDQoJCXVybCA9ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1yZW1vdmVkIg0KDQoJCWdldF9yZW1vdmUodXJsLGNvb2tpZSkNCg0KCWV4Y2VwdCBFeGNlcHRpb24gYXMgZTpwYXNzDQoNCglwcmludCgnXHInK2FrdW4pDQoNCglpZiBsZW4oYXBrMSk9PTA6cGFzcw0KDQoJZWxzZToNCg0KCQlha3VuID0gKGYnIFt7aGh9PntQfV0gYXBsaWthc2kgZGl0YW1iYWhrYW4gOiAgICAgICAgICAgICAgICAgICAgICcpDQoNCgkJbm8gPSAwDQoNCgkJZm9yIGFwayBpbiBhcGsxOg0KDQoJCQlubyArPSAxDQoNCgkJCWFrdW4gKz0gKGYnXG4ge1B9W3toaH17bm99e1B9XSB7aGh9e2Fway5sb3dlcigpfSAgICAgICAgICAgICcpDQoNCgkJcHJpbnQoJ1xyJytha3VuKQ0KDQoJaWYgbGVuKGFwazIpPT0wOnBhc3MNCg0KCWVsc2U6DQoNCgkJYWt1biA9IChmJyB7UH1be2trfT57UH1dIGFwbGlrYXNpIGthZGFsdXdhcnNhIDogICAgICAgICAgICAgICAgICAgJykNCg0KCQlubyA9IDANCg0KCQlmb3IgYXBrIGluIGFwazI6DQoNCgkJCW5vICs9IDENCg0KCQkJYWt1biArPSAoZidcbiB7UH1be2trfXtub317UH1dIHtra317YXBrLmxvd2VyKCl9ICAgICAgICAgICAgICcpDQoNCgkJcHJpbnQoJ1xyJytha3VuKQ0KDQoJaWYgbGVuKGFwazMpPT0wOnBhc3MNCg0KCWVsc2U6DQoNCgkJYWt1biA9IChmJyB7UH1be019PntQfV0gYXBsaWthc2kgeWFuZyBkaWhhcHVzIDogICAgICAgICAgICAgICAgICAnKQ0KDQoJCW5vID0gMA0KDQoJCWZvciBhcGsgaW4gYXBrMzoNCg0KCQkJbm8gKz0gMQ0KDQoJCQlha3VuICs9IChmJ1xuIHtQfVt7TX17bm99e1B9XSB7TX17YXBrLmxvd2VyKCl9ICAgICAgICAgICAgICAgJykNCg0KCQlwcmludCgnXHInK2FrdW4pDQoNCglhcGsxLmNsZWFyKCkNCg0KCWFwazIuY2xlYXIoKQ0KDQoJYXBrMy5jbGVhcigpDQoNCglwcmludCgiXHIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKQ0KDQoJCQkNCg0KCQkJDQoNCiMtLVsgY2VrIGFwayBha3RpZiBdLS0jDQoNCmRlZiBnZXRfYWN0aXZlKHVybCxjb29raWUpOg0KDQoJdHJ5Og0KDQoJCWRhdGEgPSBwYXJzZXIoc2VzLmdldCh1cmwsY29va2llcz1jb29raWUpLmNvbnRlbnQsImh0bWwucGFyc2VyIikNCg0KCQlmb3IgYXBrIGluIGRhdGEuZmluZF9hbGwoJ2gzJyk6DQoNCgkJCWlmICdEaXRhbWJhaGthbicgaW4gYXBrLnRleHQ6CQkJCQkNCg0KCQkJCWFwazEuYXBwZW5kKGYie3N0cihhcGsudGV4dCkucmVwbGFjZSgnRGl0YW1iYWhrYW4nLCcgRGl0YW1iYWhrYW4nKX0iKQ0KDQoJCQllbHNlOmNvbnRpbnVlDQoNCgkJbmV4dCA9ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iICsgZGF0YS5maW5kKCdhJyxzdHJpbmc9J0xpaGF0IExhaW5ueWEnKVsnaHJlZiddDQoNCgkJZ2V0X2FjdGl2ZShuZXh0LGNvb2tpZSkNCg0KCWV4Y2VwdDpwYXNzDQoNCg0KDQojLS1bIGNlayBhcGsga2FkYWx1YXJzYSBdLS0jDQoNCmRlZiBnZXRfaW5hY3RpdmUodXJsLGNvb2tpZSk6DQoNCgl0cnk6DQoNCgkJZGF0YSA9IHBhcnNlcihzZXMuZ2V0KHVybCxjb29raWVzPWNvb2tpZSkuY29udGVudCwiaHRtbC5wYXJzZXIiKQ0KDQoJCWZvciBhcGsgaW4gZGF0YS5maW5kX2FsbCgnaDMnKToNCg0KCQkJaWYgJ0tlZGFsdXdhcnNhJyBpbiBhcGsudGV4dDoNCg0KCQkJCWFwazIuYXBwZW5kKGYie3N0cihhcGsudGV4dCkucmVwbGFjZSgnS2VkYWx1d2Fyc2EnLCcgS2VkYWx1d2Fyc2EnKX0iKQ0KDQoJCQllbHNlOmNvbnRpbnVlDQoNCgkJbmV4dCA9ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iICsgZGF0YS5maW5kKCdhJyxzdHJpbmc9J0xpaGF0IExhaW5ueWEnKVsnaHJlZiddDQoNCgkJZ2V0X2luYWN0aXZlKG5leHQsY29va2llKQ0KDQoJZXhjZXB0OnBhc3MNCg0KDQoNCiMtLVsgY2VrIGFwayBkaWhhcHVzIF0tLSMJCQ0KDQpkZWYgZ2V0X3JlbW92ZSh1cmwsY29va2llKToNCg0KCXRyeToNCg0KCQlkYXRhID0gcGFyc2VyKHNlcy5nZXQodXJsLGNvb2tpZXM9Y29va2llKS5jb250ZW50LCJodG1sLnBhcnNlciIpDQoNCgkJZm9yIGFwayBpbiBkYXRhLmZpbmRfYWxsKCdoMycpOg0KDQoJCQlpZiAnRGloYXB1cycgaW4gYXBrLnRleHQ6DQoNCgkJCQlhcGszLmFwcGVuZChmIntzdHIoYXBrLnRleHQpLnJlcGxhY2UoJ0RpaGFwdXMnLCcgRGloYXB1cycpfSIpDQoNCgkJCWVsc2U6Y29udGludWUNCg0KCQluZXh0ID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIgKyBkYXRhLmZpbmQoJ2EnLHN0cmluZz0nTGloYXQgTGFpbm55YScpWydocmVmJ10NCg0KCQlnZXRfcmVtb3ZlKG5leHQsY29va2llKQ0KDQoJZXhjZXB0OnBhc3MNCg0KCQ0KDQpkZWYgbWFrZSgpOg0KDQoJdHJ5Om9zLm1rZGlyKCdPSycpDQoNCglleGNlcHQ6cGFzcw0KDQoJdHJ5Om9zLm1rZGlyKCdDUCcpDQoNCglleGNlcHQ6cGFzcw0KDQoJdHJ5Om9zLnN5c3RlbSgnZ2l0IHB1bGwnKQ0KDQoJZXhjZXB0OnBhc3MNCg0KCWNsZWFyX2xheWFyKCkNCg0KCWJhY2soKQ0KDQoJDQoNCgkNCg0KaWYgX19uYW1lX189PSdfX21haW5fXyc6DQoNCgltYWtlKCkJ"))